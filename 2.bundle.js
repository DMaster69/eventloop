webpackJsonp([2,3],{

/***/ 307:
/***/ function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* skel.js v3.0.1 | (c) skel.io | MIT licensed */\r\n\r\nvar skel = (function() { \"use strict\"; var _ = {\r\n\r\n\t/******************************/\r\n\t/* Properties                 */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * IDs of breakpoints that are currently active.\r\n\t\t * @type {array}\r\n\t\t */\r\n\t\tbreakpointIds: null,\r\n\r\n\t\t/**\r\n\t\t * Events.\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tevents: {},\r\n\r\n\t\t/**\r\n\t\t * Are we initialized?\r\n\t\t * @type {bool}\r\n\t\t */\r\n\t\tisInit: false,\r\n\r\n\t\t/**\r\n\t\t * Objects.\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tobj: {\r\n\r\n\t\t\t// Attachments.\r\n\t\t\t\tattachments: {},\r\n\r\n\t\t \t// Breakpoints.\r\n\t\t\t\tbreakpoints: {},\r\n\r\n\t\t\t// Head.\r\n\t\t\t\thead: null,\r\n\r\n\t\t\t// States.\r\n\t\t\t\tstates: {}\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * State ID delimiter (don't change this).\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tsd: '/',\r\n\r\n\t\t/**\r\n\t\t * Current state.\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tstate: null,\r\n\r\n\t\t/**\r\n\t\t * State handlers.\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tstateHandlers: {},\r\n\r\n\t\t/**\r\n\t\t * Current state ID.\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tstateId: '',\r\n\r\n\t\t/**\r\n\t\t * Internal vars.\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tvars: {},\r\n\r\n\t/******************************/\r\n\t/* Methods: Utility           */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Does stuff when the DOM is ready.\r\n\t\t * @param {function} f Function.\r\n\t\t */\r\n\t\tDOMReady: null,\r\n\r\n\t\t/**\r\n\t\t * Wrapper/polyfill for (Array.prototype|String).indexOf.\r\n\t\t * @param {Array|string} search Object or string to search.\r\n\t\t * @param {integer} from Starting index.\r\n\t\t * @return {integer} Matching index (or -1 if there's no match).\r\n\t\t */\r\n\t\tindexOf: null,\r\n\r\n\t\t/**\r\n\t\t * Wrapper/polyfill for Array.isArray.\r\n\t\t * @param {array} x Variable to check.\r\n\t\t * @return {bool} If true, x is an array. If false, x is not an array.\r\n\t\t */\r\n\t\tisArray: null,\r\n\r\n\t\t/**\r\n\t\t * Safe replacement for \"for..in\". Avoids stuff that doesn't belong to the array itself (eg. properties added to Array.prototype).\r\n\t\t * @param {Array} a Array to iterate.\r\n\t\t * @param {function} f(index) Function to call on each element.\r\n\t\t */\r\n\t\titerate: null,\r\n\r\n\t\t/**\r\n\t\t * Determines if a media query matches the current browser state.\r\n\t\t * @param {string} query Media query.\r\n\t\t * @return {bool} True if it matches, false if not.\r\n\t\t */\r\n\t\tmatchesMedia: null,\r\n\r\n\t\t/**\r\n\t\t * Extends x by y.\r\n\t\t * @param {object} x Target object.\r\n\t\t * @param {object} y Source object.\r\n\t\t */\r\n\t\textend: function(x, y) {\r\n\r\n\t\t\t_.iterate(y, function(k) {\r\n\r\n\t\t\t\tif (_.isArray(y[k])) {\r\n\r\n\t\t\t\t\tif (!_.isArray(x[k]))\r\n\t\t\t\t\t\tx[k] = [];\r\n\r\n\t\t\t\t\t_.extend(x[k], y[k]);\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse if (typeof y[k] == 'object') {\r\n\r\n\t\t\t\t\tif (typeof x[k] != 'object')\r\n\t\t\t\t\t\tx[k] = {};\r\n\r\n\t\t\t\t\t_.extend(x[k], y[k]);\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tx[k] = y[k];\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Creates a new style element.\r\n\t\t * @param {string} content Content.\r\n\t\t * @return {DOMHTMLElement} Style element.\r\n\t\t */\r\n\t\tnewStyle: function(content) {\r\n\r\n\t\t\tvar e = document.createElement('style');\r\n\t\t\t\te.type = 'text/css';\r\n\t\t\t\te.innerHTML = content;\r\n\r\n\t\t\treturn e;\r\n\r\n\t\t},\r\n\r\n\t/******************************/\r\n\t/* Methods: API               */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Temporary element for canUse()\r\n\t\t * @type {DOMElement}\r\n\t\t */\r\n\t\t_canUse: null,\r\n\r\n\t\t/**\r\n\t\t * Determines if the browser supports a given property.\r\n\t\t * @param {string} p Property.\r\n\t\t * @return {bool} True if property is supported, false if not.\r\n\t\t */\r\n\t\tcanUse: function(p) {\r\n\r\n\t\t\t// Create temporary element if it doesn't already exist.\r\n\t\t\t\tif (!_._canUse)\r\n\t\t\t\t\t_._canUse = document.createElement('div');\r\n\r\n\t\t\t// Check for property.\r\n\t\t\t\tvar e = _._canUse.style,\r\n\t\t\t\t\tup = p.charAt(0).toUpperCase() + p.slice(1);\r\n\r\n\t\t\t\treturn\t(\r\n\t\t\t\t\t\t\tp in e\r\n\t\t\t\t\t\t||\t('Moz' + up) in e\r\n\t\t\t\t\t\t||\t('Webkit' + up) in e\r\n\t\t\t\t\t\t||\t('O' + up) in e\r\n\t\t\t\t\t\t||\t('ms' + up) in e\r\n\t\t\t\t);\r\n\r\n\t\t},\r\n\r\n\t/******************************/\r\n\t/* Methods: Events            */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Registers one or more events.\r\n\t\t * @param {string} names Space-delimited list of event names.\r\n\t\t * @param {function} f Function.\r\n\t\t */\r\n\t\ton: function(names, f) {\r\n\r\n\t\t\tvar a = names.split(/[\\s]+/);\r\n\r\n\t\t\t_.iterate(a, function(i) {\r\n\r\n\t\t\t\tvar name = a[i];\r\n\r\n\t\t\t\t// Manually trigger event if applicable.\r\n\t\t\t\t\tif (_.isInit) {\r\n\r\n\t\t\t\t\t\t// Init.\r\n\t\t\t\t\t\t\tif (name == 'init') {\r\n\r\n\t\t\t\t\t\t\t\t// Trigger event.\r\n\t\t\t\t\t\t\t\t\t(f)();\r\n\r\n\t\t\t\t\t\t\t\t// This only gets called once, so there's no need to actually\r\n\t\t\t\t\t\t\t\t// register it.\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Change.\r\n\t\t\t\t\t\t\telse if (name == 'change') {\r\n\r\n\t\t\t\t\t\t\t\t// Trigger event.\r\n\t\t\t\t\t\t\t\t\t(f)();\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Activate / Not.\r\n\t\t\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\t\t\tvar x = name.charAt(0);\r\n\r\n\t\t\t\t\t\t\t\tif (x == '+' || x == '!') {\r\n\r\n\t\t\t\t\t\t\t\t\tvar y = name.substring(1);\r\n\r\n\t\t\t\t\t\t\t\t\tif (y in _.obj.breakpoints) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Activate.\r\n\t\t\t\t\t\t\t\t\t\t\tif (x == '+' && _.obj.breakpoints[y].active) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Trigger event.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(f)();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Not.\r\n\t\t\t\t\t\t\t\t\t\t\telse if (x == '!' && !_.obj.breakpoints[y].active) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Trigger event.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(f)();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t// This only gets called once, so there's no need to actually\r\n\t\t\t\t\t\t\t\t\t\t\t\t// register it.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t// No previous events of this type registered? Set up its array.\r\n\t\t\t\t\tif (!_.events[name])\r\n\t\t\t\t\t\t_.events[name] = [];\r\n\r\n\t\t\t\t// Register event.\r\n\t\t\t\t\t_.events[name].push(f);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn _;\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Triggers an event.\r\n\t\t * @param {string} name Name.\r\n\t\t */\r\n\t\ttrigger: function(name) {\r\n\r\n\t\t\t// No events registered? Bail.\r\n\t\t\t\tif (!_.events[name] || _.events[name].length == 0)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t// Step through and call events.\r\n\t\t\t\t_.iterate(_.events[name], function(k) {\r\n\t\t\t\t\t(_.events[name][k])();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn _;\r\n\r\n\t\t},\r\n\r\n\t/******************************/\r\n\t/* Methods: Breakpoints       */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Gets a breakpoint.\r\n\t\t * @param {string} id Breakpoint ID.\r\n\t\t * @return {Breakpoint} Breakpoint.\r\n\t\t */\r\n\t\tbreakpoint: function(id) {\r\n\t\t\treturn _.obj.breakpoints[id];\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets breakpoints.\r\n\t\t * @param {object} breakpoints Breakpoints.\r\n\t\t */\r\n\t\tbreakpoints: function(breakpoints) {\r\n\r\n\t\t\t// Breakpoint class.\r\n\t\t\t\tfunction Breakpoint(id, media) {\r\n\r\n\t\t\t\t\tthis.name = this.id = id;\r\n\t\t\t\t\tthis.media = media;\r\n\t\t\t\t\tthis.active = false;\r\n\t\t\t\t\tthis.wasActive = false;\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\t\tBreakpoint.prototype.matches = function() {\r\n\t\t\t\t\t\treturn (_.matchesMedia(this.media));\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tBreakpoint.prototype.sync = function() {\r\n\r\n\t\t\t\t\t\tthis.wasActive = this.active;\r\n\t\t\t\t\t\tthis.active = this.matches();\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t// Create breakpoints.\r\n\t\t\t\t_.iterate(breakpoints, function(id) {\r\n\t\t\t\t\t_.obj.breakpoints[id] = new Breakpoint(id, breakpoints[id]);\r\n\t\t\t\t});\r\n\r\n\t\t\t// Initial poll.\r\n\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t_.poll();\r\n\t\t\t\t}, 0);\r\n\r\n\t\t\treturn _;\r\n\r\n\t\t},\r\n\r\n\t/******************************/\r\n\t/* Methods: States            */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Adds a state handler.\r\n\t\t * @param {string} id ID.\r\n\t\t * @param {function} f Handler function.\r\n\t\t */\r\n\t\taddStateHandler: function(id, f) {\r\n\r\n\t\t\t// Add handler.\r\n\t\t\t\t_.stateHandlers[id] = f;\r\n\r\n\t\t\t// Call it.\r\n\t\t\t\t//_.callStateHandler(id);\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Calls a state handler.\r\n\t\t * @param {string} id ID.\r\n\t\t */\r\n\t\tcallStateHandler: function(id) {\r\n\r\n\t\t\t// Call handler.\r\n\t\t\t\tvar attachments = (_.stateHandlers[id])();\r\n\r\n\t\t\t// Add attachments to state (if any).\r\n\t\t\t\t_.iterate(attachments, function(i) {\r\n\t\t\t\t\t_.state.attachments.push(attachments[i]);\r\n\t\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Switches to a different state.\r\n\t\t * @param {string} newStateId New state ID.\r\n\t\t */\r\n\t\tchangeState: function(newStateId) {\r\n\r\n\t\t\t// Sync all breakpoints.\r\n\t\t\t\t_.iterate(_.obj.breakpoints, function(id) {\r\n\t\t\t\t\t_.obj.breakpoints[id].sync();\r\n\t\t\t\t});\r\n\r\n\t\t\t// Set last state var.\r\n\t\t\t\t_.vars.lastStateId = _.stateId;\r\n\r\n\t\t\t// Change state ID.\r\n\t\t\t\t_.stateId = newStateId;\r\n\t\t\t\t_.breakpointIds = (_.stateId === _.sd ? [] : _.stateId.substring(1).split(_.sd));\r\n\r\n\t\t\t\tconsole.log('[skel] changing states (id: \"' + _.stateId + '\")');\r\n\r\n\t\t\t// Get state.\r\n\t\t\t\tif (!_.obj.states[_.stateId]) {\r\n\r\n\t\t\t\t\tconsole.log('[skel] - not found. building ...');\r\n\r\n\t\t\t\t\t// Build state.\r\n\t\t\t\t\t\t_.obj.states[_.stateId] = {\r\n\t\t\t\t\t\t\tattachments: []\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t_.state = _.obj.states[_.stateId];\r\n\r\n\t\t\t\t\t// Call all state handlers.\r\n\t\t\t\t\t\t_.iterate(_.stateHandlers, _.callStateHandler);\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\r\n\t\t\t\t\tconsole.log('[skel] - found');\r\n\r\n\t\t\t\t\t// Get state.\r\n\t\t\t\t\t\t_.state = _.obj.states[_.stateId];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t// Detach all attachments *EXCEPT* state's.\r\n\t\t\t\t_.detachAll(_.state.attachments);\r\n\r\n\t\t\t// Attach state's attachments.\r\n\t\t\t\t_.attachAll(_.state.attachments);\r\n\r\n\t\t\t// Expose state and stateId as vars.\r\n\t\t\t\t_.vars.stateId = _.stateId;\r\n\t\t\t\t_.vars.state = _.state;\r\n\r\n\t\t\t// Trigger change event.\r\n\t\t\t\t_.trigger('change');\r\n\r\n\t\t\t// Trigger activate/deactivate events.\r\n\t\t\t\t_.iterate(_.obj.breakpoints, function(id) {\r\n\r\n\t\t\t\t\t// Breakpoint is now active ...\r\n\t\t\t\t\t\tif (_.obj.breakpoints[id].active) {\r\n\r\n\t\t\t\t\t\t\t// ... and it wasn't active before? Trigger activate event.\r\n\t\t\t\t\t\t\t\tif (!_.obj.breakpoints[id].wasActive)\r\n\t\t\t\t\t\t\t\t\t_.trigger('+' + id);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Breakpoint is not active ...\r\n\t\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\t\t// ... but it was active before? Trigger deactivate event.\r\n\t\t\t\t\t\t\t\tif (_.obj.breakpoints[id].wasActive)\r\n\t\t\t\t\t\t\t\t\t_.trigger('-' + id);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Generates a state-specific config.\r\n\t\t * @param {object} baseConfig Base config.\r\n\t\t * @param {object} breakpointConfigs Breakpoint-specific configs.\r\n\t\t * @return {object} State-specific config.\r\n\t\t */\r\n\t\tgenerateStateConfig: function(baseConfig, breakpointConfigs) {\r\n\r\n\t\t\tvar x = {};\r\n\r\n\t\t\t// Extend with base config.\r\n\t\t\t\t_.extend(x, baseConfig);\r\n\r\n\t\t\t// Extend with configs for each active breakpoint.\r\n\t\t\t\t_.iterate(_.breakpointIds, function(k) {\r\n\t\t\t\t\t_.extend(x, breakpointConfigs[_.breakpointIds[k]]);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn x;\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Gets the current state ID.\r\n\t\t * @return {string} State ID.\r\n\t\t */\r\n\t\tgetStateId: function() {\r\n\r\n\t\t\tvar stateId = '';\r\n\r\n\t\t\t_.iterate(_.obj.breakpoints, function(id) {\r\n\r\n\t\t\t\tvar b = _.obj.breakpoints[id];\r\n\r\n\t\t\t\t// Active? Append breakpoint ID to state ID.\r\n\t\t\t\t\tif (b.matches())\r\n\t\t\t\t\t\tstateId += _.sd + b.id;\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn stateId;\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Polls for state changes.\r\n\t\t */\r\n\t\tpoll: function() {\r\n\r\n\t\t\tvar newStateId = '';\r\n\r\n\t\t\t// Determine new state.\r\n\t\t\t\tnewStateId = _.getStateId();\r\n\r\n\t\t\t\tif (newStateId === '')\r\n\t\t\t\t\tnewStateId = _.sd;\r\n\r\n\t\t\t// State changed?\r\n\t\t\t\tif (newStateId !== _.stateId)\r\n\t\t\t\t\t_.changeState(newStateId);\r\n\r\n\t\t},\r\n\r\n\t/******************************/\r\n\t/* Methods: Attachments       */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Attach point for attach()\r\n\t\t * @type {DOMElement}\r\n\t\t */\r\n\t\t_attach: null,\r\n\r\n\t\t/**\r\n\t\t * Attaches a single attachment.\r\n\t\t * @param {object} attachment Attachment.\r\n\t\t * @return bool True on success, false on failure.\r\n\t\t */\r\n\t\tattach: function(attachment) {\r\n\r\n\t\t\tvar\th = _.obj.head,\r\n\t\t\t\te = attachment.element;\r\n\r\n\t\t\t// Already attached? Bail.\r\n\t\t\t\tif (e.parentNode\r\n\t\t\t\t&&\te.parentNode.tagName)\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t// Add to <head>\r\n\r\n\t\t\t\t// No attach point yet? Use <head>'s first child.\r\n\t\t\t\t\tif (!_._attach)\r\n\t\t\t\t\t\t_._attach = h.firstChild;\r\n\r\n\t\t\t\t// Insert element.\r\n\t\t\t\t\th.insertBefore(e, _._attach.nextSibling);\r\n\r\n\t\t\t\t// Permanent attachment? Make its element the new attach point.\r\n\t\t\t\t\tif (attachment.permanent)\r\n\t\t\t\t\t\t_._attach = e;\r\n\r\n\t\t\tconsole.log('[skel] ' + attachment.id + ': attached (' + attachment.priority + ')');\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Attaches a list of attachments.\r\n\t\t * @param {array} attachments Attachments.\r\n\t\t */\r\n\t\tattachAll: function(attachments) {\r\n\r\n\t\t\tvar a = [];\r\n\r\n\t\t\t// Organize attachments by priority.\r\n\t\t\t\t_.iterate(attachments, function(k) {\r\n\r\n\t\t\t\t\tif (!a[ attachments[k].priority ])\r\n\t\t\t\t\t\ta[ attachments[k].priority ] = [];\r\n\r\n\t\t\t\t\ta[ attachments[k].priority ].push(attachments[k]);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t// Reverse array order.\r\n\t\t\t\ta.reverse();\r\n\r\n\t\t\t// Step through each priority.\r\n\t\t\t\t_.iterate(a, function(k) {\r\n\t\t\t\t\t_.iterate(a[k], function(x) {\r\n\t\t\t\t\t\t_.attach(a[k][x]);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Detaches a single attachment.\r\n\t\t * @param {object} attachment Attachment.\r\n\t\t * @return bool True on success, false on failure.\r\n\t\t */\r\n\t\tdetach: function(attachment) {\r\n\r\n\t\t\tvar\te = attachment.element;\r\n\r\n\t\t\t// Permanent or already detached? Bail.\r\n\t\t\t\tif (attachment.permanent\r\n\t\t\t\t||\t!e.parentNode\r\n\t\t\t\t||\t(e.parentNode && !e.parentNode.tagName))\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t// Detach.\r\n\t\t\t\te.parentNode.removeChild(e);\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Detaches all attachments.\r\n\t\t * @param {object} exclude A list of attachments to exclude.\r\n\t\t */\r\n\t\tdetachAll: function(exclude) {\r\n\r\n\t\t\tvar l = {};\r\n\r\n\t\t\t// Build exclusion list (for faster lookups).\r\n\t\t\t\t_.iterate(exclude, function(k) {\r\n\t\t\t\t\tl[exclude[k].id] = true;\r\n\t\t\t\t});\r\n\r\n\t\t\t_.iterate(_.obj.attachments, function(id) {\r\n\r\n\t\t\t\t// In our exclusion list? Bail.\r\n\t\t\t\t\tif (id in l)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Attempt to detach.\r\n\t\t\t\t\t_.detach(_.obj.attachments[id]);\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tattachment: function(id) {\r\n\t\t\treturn (id in _.obj.attachments ? _.obj.attachments[id] : null);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Creates a new attachment.\r\n\t\t * @param {string} id ID.\r\n\t\t * @param {DOMElement} element DOM element.\r\n\t\t */\r\n\t\tnewAttachment: function(id, element, priority, permanent) {\r\n\r\n\t\t\treturn (_.obj.attachments[id] = {\r\n\t\t\t\tid: id,\r\n\t\t\t\telement: element,\r\n\t\t\t\tpriority: priority,\r\n\t\t\t\tpermanent: permanent\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t/******************************/\r\n\t/* Methods: Init              */\r\n\t/******************************/\r\n\r\n\t\t/**\r\n\t\t * Initializes skel.\r\n\t\t * This has to be explicitly called by the user.\r\n\t\t */\r\n\t\tinit: function() {\r\n\r\n\t\t\t// Initialize stuff.\r\n\t\t\t\t_.initMethods();\r\n\t\t\t\t_.initVars();\r\n\t\t\t\t_.initEvents();\r\n\r\n\t\t\t// Tmp.\r\n\t\t\t\t_.obj.head = document.getElementsByTagName('head')[0];\r\n\r\n\t\t\t// Mark as initialized.\r\n\t\t\t\t_.isInit = true;\r\n\r\n\t\t\t// Trigger init event.\r\n\t\t\t\t_.trigger('init');\r\n\r\n\t\t\tconsole.log('[skel] initialized.');\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Initializes browser events.\r\n\t\t */\r\n\t\tinitEvents: function() {\r\n\r\n\t\t\t// On resize.\r\n\t\t\t\t_.on('resize', function() { _.poll(); });\r\n\r\n\t\t\t// On orientation change.\r\n\t\t\t\t_.on('orientationChange', function() { _.poll(); });\r\n\r\n\t\t\t// Wrap \"ready\" event.\r\n\t\t\t\t_.DOMReady(function() {\r\n\t\t\t\t\t_.trigger('ready');\r\n\t\t\t\t});\r\n\r\n\t\t\t// Non-destructively register skel events to window.\r\n\r\n\t\t\t\t// Load.\r\n\t\t\t\t\tif (window.onload)\r\n\t\t\t\t\t\t_.on('load', window.onload);\r\n\r\n\t\t\t\t\twindow.onload = function() { _.trigger('load'); };\r\n\r\n\t\t\t\t// Resize.\r\n\t\t\t\t\tif (window.onresize)\r\n\t\t\t\t\t\t_.on('resize', window.onresize);\r\n\r\n\t\t\t\t\twindow.onresize = function() { _.trigger('resize'); };\r\n\r\n\t\t\t\t// Orientation change.\r\n\t\t\t\t\tif (window.onorientationchange)\r\n\t\t\t\t\t\t_.on('orientationChange', window.onorientationchange);\r\n\r\n\t\t\t\t\twindow.onorientationchange = function() { _.trigger('orientationChange'); };\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Initializes methods.\r\n\t\t */\r\n\t\tinitMethods: function() {\r\n\r\n\t\t\t// _.DOMReady (based on github.com/ded/domready by @ded; domready (c) Dustin Diaz 2014 - License MIT)\r\n\r\n\t\t\t\t// Hack: Use older version for browsers that don't support addEventListener (*cough* IE8).\r\n\t\t\t\t\tif (!document.addEventListener)\r\n\t\t\t\t\t\t!function(e,t){_.DOMReady = t()}(\"domready\",function(e){function p(e){h=1;while(e=t.shift())e()}var t=[],n,r=!1,i=document,s=i.documentElement,o=s.doScroll,u=\"DOMContentLoaded\",a=\"addEventListener\",f=\"onreadystatechange\",l=\"readyState\",c=o?/^loaded|^c/:/^loaded|c/,h=c.test(i[l]);return i[a]&&i[a](u,n=function(){i.removeEventListener(u,n,r),p()},r),o&&i.attachEvent(f,n=function(){/^c/.test(i[l])&&(i.detachEvent(f,n),p())}),e=o?function(n){self!=top?h?n():t.push(n):function(){try{s.doScroll(\"left\")}catch(t){return setTimeout(function(){e(n)},50)}n()}()}:function(e){h?e():t.push(e)}});\r\n\t\t\t\t// And everyone else.\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t!function(e,t){_.DOMReady = t()}(\"domready\",function(){function s(t){i=1;while(t=e.shift())t()}var e=[],t,n=document,r=\"DOMContentLoaded\",i=/^loaded|^c/.test(n.readyState);return n.addEventListener(r,t=function(){n.removeEventListener(r,t),s()}),function(t){i?t():e.push(t)}});\r\n\r\n\t\t\t// _.indexOf\r\n\r\n\t\t\t\t// Wrap existing method if it exists.\r\n\t\t\t\t\tif (Array.prototype.indexOf)\r\n\t\t\t\t\t\t_.indexOf = function(x,b) { return x.indexOf(b) };\r\n\r\n\t\t\t\t// Otherwise, polyfill.\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_.indexOf = function(x,b){if (typeof x=='string') return x.indexOf(b);var c,a=(b)?b:0,e;if(!this){throw new TypeError()}e=this.length;if(e===0||a>=e){return -1}if(a<0){a=e-Math.abs(a)}for(c=a;c<e;c++){if(this[c]===x){return c}}return -1};\r\n\r\n\t\t\t// _.isArray\r\n\r\n\t\t\t\t// Wrap existing method if it exists.\r\n\t\t\t\t\tif (Array.isArray)\r\n\t\t\t\t\t\t_.isArray = function(x) { return Array.isArray(x) };\r\n\r\n\t\t\t\t// Otherwise, polyfill.\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_.isArray = function(x) { return (Object.prototype.toString.call(x) === '[object Array]') };\r\n\r\n\t\t\t// _.iterate\r\n\r\n\t\t\t\t// Use Object.keys if it exists (= better performance).\r\n\t\t\t\t\tif (Object.keys)\r\n\t\t\t\t\t\t_.iterate = function(a, f) {\r\n\r\n\t\t\t\t\t\t\tif (!a)\r\n\t\t\t\t\t\t\t\treturn [];\r\n\r\n\t\t\t\t\t\t\tvar i, k = Object.keys(a);\r\n\r\n\t\t\t\t\t\t\tfor (i = 0; k[i]; i++) {\r\n\r\n\t\t\t\t\t\t\t\tif ((f)(k[i], a[k[i]]) === false)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t// Otherwise, fall back on hasOwnProperty (= slower, but works on older browsers).\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_.iterate = function(a, f) {\r\n\r\n\t\t\t\t\t\t\tif (!a)\r\n\t\t\t\t\t\t\t\treturn [];\r\n\r\n\t\t\t\t\t\t\tvar i;\r\n\r\n\t\t\t\t\t\t\tfor (i in a)\r\n\t\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(a, i)) {\r\n\r\n\t\t\t\t\t\t\t\t\tif ((f)(i, a[i]) === false)\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t// _.matchesMedia\r\n\r\n\t\t\t\t// Default: Use matchMedia (all modern browsers)\r\n\t\t\t\t\tif (window.matchMedia)\r\n\t\t\t\t\t\t_.matchesMedia = function(query) {\r\n\r\n\t\t\t\t\t\t\tif (query == '')\r\n\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\treturn window.matchMedia(query).matches;\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t// Polyfill 1: Use styleMedia/media (IE9, older Webkit) (derived from github.com/paulirish/matchMedia.js)\r\n\t\t\t\t\telse if (window.styleMedia || window.media)\r\n\t\t\t\t\t\t_.matchesMedia = function(query) {\r\n\r\n\t\t\t\t\t\t\tif (query == '')\r\n\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\tvar styleMedia = (window.styleMedia || window.media);\r\n\r\n\t\t\t\t\t\t\treturn styleMedia.matchMedium(query || 'all');\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t// Polyfill 2: Use getComputed Style (???) (derived from github.com/paulirish/matchMedia.js)\r\n\t\t\t\t\telse if (window.getComputedStyle)\r\n\t\t\t\t\t\t_.matchesMedia = function(query) {\r\n\r\n\t\t\t\t\t\t\tif (query == '')\r\n\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\tvar\tstyle = document.createElement('style'),\r\n\t\t\t\t\t\t\t\tscript = document.getElementsByTagName('script')[0],\r\n\t\t\t\t\t\t\t\tinfo = null;\r\n\r\n\t\t\t\t\t\t\tstyle.type = 'text/css';\r\n\t\t\t\t\t\t\tstyle.id = 'matchmediajs-test';\r\n\t\t\t\t\t\t\tscript.parentNode.insertBefore(style, script);\r\n\t\t\t\t\t\t\tinfo = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\r\n\r\n\t\t\t\t\t\t\tvar text = '@media ' + query + '{ #matchmediajs-test { width: 1px; } }';\r\n\r\n\t\t\t\t\t\t\tif (style.styleSheet)\r\n\t\t\t\t\t\t\t\tstyle.styleSheet.cssText = text;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tstyle.textContent = text;\r\n\r\n\t\t\t\t\t\t\treturn info.width === '1px';\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t// Polyfill 3: Manually parse (IE<9)\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_.matchesMedia = function(query) {\r\n\r\n\t\t\t\t\t\t\t// Empty query? Always succeed.\r\n\t\t\t\t\t\t\t\tif (query == '')\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t\t// Parse query.\r\n\t\t\t\t\t\t\t\tvar k, s, a, b, values = { 'min-width': null, 'max-width': null },\r\n\t\t\t\t\t\t\t\t\tfound = false;\r\n\r\n\t\t\t\t\t\t\t\ta = query.split(/\\s+and\\s+/);\r\n\r\n\t\t\t\t\t\t\t\tfor (k = 0; k < a.length; k++) {\r\n\r\n\t\t\t\t\t\t\t\t\ts = a[k];\r\n\r\n\t\t\t\t\t\t\t\t\t// Operator (key: value)\r\n\t\t\t\t\t\t\t\t\t\tif (s.charAt(0) == '(') {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ts = s.substring(1, s.length - 1);\r\n\t\t\t\t\t\t\t\t\t\t\tb = s.split(/:\\s+/);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (b.length == 2) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues[ b[0].replace(/^\\s+|\\s+$/g, '') ] = parseInt( b[1] );\r\n\t\t\t\t\t\t\t\t\t\t\t\tfound = true;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// No matches? Query likely contained something unsupported so we automatically fail.\r\n\t\t\t\t\t\t\t\tif (!found)\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t\t\t// Check against viewport.\r\n\t\t\t\t\t\t\t\tvar w = document.documentElement.clientWidth,\r\n\t\t\t\t\t\t\t\t\th = document.documentElement.clientHeight;\r\n\r\n\t\t\t\t\t\t\t\tif ((values['min-width'] !== null && w < values['min-width'])\r\n\t\t\t\t\t\t\t\t||\t(values['max-width'] !== null && w > values['max-width'])\r\n\t\t\t\t\t\t\t\t||\t(values['min-height'] !== null && h < values['min-height'])\r\n\t\t\t\t\t\t\t\t||\t(values['max-height'] !== null && h > values['max-height']))\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t// _.newStyle\r\n\r\n\t\t\t\t// IE<9 fix.\r\n\t\t\t\t\tif (navigator.userAgent.match(/MSIE ([0-9]+)/)\r\n\t\t\t\t\t&&\tRegExp.$1 < 9)\r\n\t\t\t\t\t\t_.newStyle = function(content) {\r\n\r\n\t\t\t\t\t\t\tvar e = document.createElement('span');\r\n\t\t\t\t\t\t\t\te.innerHTML = '&nbsp;<style type=\"text/css\">' + content + '</style>';\r\n\r\n\t\t\t\t\t\t\treturn e;\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Initializes the vars.\r\n\t\t */\r\n\t\tinitVars: function() {\r\n\r\n\t\t\tvar x, y, a, ua = navigator.userAgent;\r\n\r\n\t\t\t// browser, browserVersion.\r\n\t\t\t\tx = 'other';\r\n\t\t\t\ty = 0;\r\n\t\t\t\ta = [\r\n\t\t\t\t\t['firefox',\t\t/Firefox\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['bb',\t\t\t/BlackBerry.+Version\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['bb',\t\t\t/BB[0-9]+.+Version\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['opera',\t\t/OPR\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['opera',\t\t/Opera\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['edge',\t\t/Edge\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['safari',\t\t/Version\\/([0-9\\.]+).+Safari/],\r\n\t\t\t\t\t['chrome',\t\t/Chrome\\/([0-9\\.]+)/],\r\n\t\t\t\t\t['ie', \t\t\t/MSIE ([0-9]+)/],\r\n\t\t\t\t\t['ie',\t\t\t/Trident\\/.+rv:([0-9]+)/]\r\n\t\t\t\t];\r\n\r\n\t\t\t\t_.iterate(a, function(k, v) {\r\n\r\n\t\t\t\t\tif (ua.match(v[1])) {\r\n\r\n\t\t\t\t\t\tx = v[0];\r\n\t\t\t\t\t\ty = parseFloat(RegExp.$1);\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_.vars.browser = x;\r\n\t\t\t\t_.vars.browserVersion = y;\r\n\r\n\t\t\t// os, osVersion.\r\n\t\t\t\tx = 'other';\r\n\t\t\t\ty = 0;\r\n\t\t\t\ta = [\r\n\t\t\t\t\t['ios',\t\t\t/([0-9_]+) like Mac OS X/,\t\t\tfunction(v) { return v.replace('_', '.').replace('_', ''); }],\r\n\t\t\t\t\t['ios',\t\t\t/CPU like Mac OS X/,\t\t\t\tfunction(v) { return 0 }],\r\n\t\t\t\t\t['wp',\t\t\t/Windows Phone ([0-9\\.]+)/,\t\t\tnull],\r\n\t\t\t\t\t['android',\t\t/Android ([0-9\\.]+)/,\t\t\t\tnull],\r\n\t\t\t\t\t['mac',\t\t\t/Macintosh.+Mac OS X ([0-9_]+)/,\tfunction(v) { return v.replace('_', '.').replace('_', ''); }],\r\n\t\t\t\t\t['windows',\t\t/Windows NT ([0-9\\.]+)/,\t\t\tnull],\r\n\t\t\t\t\t['bb',\t\t\t/BlackBerry.+Version\\/([0-9\\.]+)/,\tnull],\r\n\t\t\t\t\t['bb',\t\t\t/BB[0-9]+.+Version\\/([0-9\\.]+)/,\tnull]\r\n\t\t\t\t];\r\n\r\n\t\t\t\t_.iterate(a, function(k, v) {\r\n\r\n\t\t\t\t\tif (ua.match(v[1])) {\r\n\r\n\t\t\t\t\t\tx = v[0];\r\n\t\t\t\t\t\ty = parseFloat( v[2] ? (v[2])(RegExp.$1) : RegExp.$1 );\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_.vars.os = x;\r\n\t\t\t\t_.vars.osVersion = y;\r\n\r\n\t\t\t// IEVersion.\r\n\t\t\t\t_.vars.IEVersion = (_.vars.browser == 'ie' ? _.vars.browserVersion : 99);\r\n\r\n\t\t\t// touch.\r\n\t\t\t\t_.vars.touch = (_.vars.os == 'wp' ? (navigator.msMaxTouchPoints > 0) : !!('ontouchstart' in window));\r\n\r\n\t\t\t// mobile.\r\n\t\t\t\t_.vars.mobile = (_.vars.os == 'wp' || _.vars.os == 'android' || _.vars.os == 'ios' || _.vars.os == 'bb');\r\n\r\n\t\t},\r\n\r\n}; _.init(); return _; })();\r\n\r\n// UMD Wrapper (github.com/umdjs/umd/blob/master/returnExports.js | @umdjs + @nason)\r\n(function(root, factory) {\r\n\r\n\t// AMD.\r\n\t\tif (true)\r\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\r\n\t// Node.\r\n\t\telse if (typeof exports === 'object')\r\n\t\t\tmodule.exports = factory();\r\n\r\n\t// Browser global.\r\n\t\telse\r\n\t\t\troot.skel = factory();\r\n\r\n}(this, function() { return skel; }));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9za2VsLWZyYW1ld29yay9zcmMvc2tlbC5qcz83NTE0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIHNrZWwuanMgdjMuMC4xIHwgKGMpIHNrZWwuaW8gfCBNSVQgbGljZW5zZWQgKi9cclxuXHJcbnZhciBza2VsID0gKGZ1bmN0aW9uKCkgeyBcInVzZSBzdHJpY3RcIjsgdmFyIF8gPSB7XHJcblxyXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblx0LyogUHJvcGVydGllcyAgICAgICAgICAgICAgICAgKi9cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSURzIG9mIGJyZWFrcG9pbnRzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3RpdmUuXHJcblx0XHQgKiBAdHlwZSB7YXJyYXl9XHJcblx0XHQgKi9cclxuXHRcdGJyZWFrcG9pbnRJZHM6IG51bGwsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFdmVudHMuXHJcblx0XHQgKiBAdHlwZSB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRldmVudHM6IHt9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXJlIHdlIGluaXRpYWxpemVkP1xyXG5cdFx0ICogQHR5cGUge2Jvb2x9XHJcblx0XHQgKi9cclxuXHRcdGlzSW5pdDogZmFsc2UsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBPYmplY3RzLlxyXG5cdFx0ICogQHR5cGUge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0b2JqOiB7XHJcblxyXG5cdFx0XHQvLyBBdHRhY2htZW50cy5cclxuXHRcdFx0XHRhdHRhY2htZW50czoge30sXHJcblxyXG5cdFx0IFx0Ly8gQnJlYWtwb2ludHMuXHJcblx0XHRcdFx0YnJlYWtwb2ludHM6IHt9LFxyXG5cclxuXHRcdFx0Ly8gSGVhZC5cclxuXHRcdFx0XHRoZWFkOiBudWxsLFxyXG5cclxuXHRcdFx0Ly8gU3RhdGVzLlxyXG5cdFx0XHRcdHN0YXRlczoge31cclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhdGUgSUQgZGVsaW1pdGVyIChkb24ndCBjaGFuZ2UgdGhpcykuXHJcblx0XHQgKiBAdHlwZSB7c3RyaW5nfVxyXG5cdFx0ICovXHJcblx0XHRzZDogJy8nLFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3VycmVudCBzdGF0ZS5cclxuXHRcdCAqIEB0eXBlIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdHN0YXRlOiBudWxsLFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhdGUgaGFuZGxlcnMuXHJcblx0XHQgKiBAdHlwZSB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRzdGF0ZUhhbmRsZXJzOiB7fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEN1cnJlbnQgc3RhdGUgSUQuXHJcblx0XHQgKiBAdHlwZSB7c3RyaW5nfVxyXG5cdFx0ICovXHJcblx0XHRzdGF0ZUlkOiAnJyxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEludGVybmFsIHZhcnMuXHJcblx0XHQgKiBAdHlwZSB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHR2YXJzOiB7fSxcclxuXHJcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHQvKiBNZXRob2RzOiBVdGlsaXR5ICAgICAgICAgICAqL1xyXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEb2VzIHN0dWZmIHdoZW4gdGhlIERPTSBpcyByZWFkeS5cclxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGYgRnVuY3Rpb24uXHJcblx0XHQgKi9cclxuXHRcdERPTVJlYWR5OiBudWxsLFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogV3JhcHBlci9wb2x5ZmlsbCBmb3IgKEFycmF5LnByb3RvdHlwZXxTdHJpbmcpLmluZGV4T2YuXHJcblx0XHQgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gc2VhcmNoIE9iamVjdCBvciBzdHJpbmcgdG8gc2VhcmNoLlxyXG5cdFx0ICogQHBhcmFtIHtpbnRlZ2VyfSBmcm9tIFN0YXJ0aW5nIGluZGV4LlxyXG5cdFx0ICogQHJldHVybiB7aW50ZWdlcn0gTWF0Y2hpbmcgaW5kZXggKG9yIC0xIGlmIHRoZXJlJ3Mgbm8gbWF0Y2gpLlxyXG5cdFx0ICovXHJcblx0XHRpbmRleE9mOiBudWxsLFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogV3JhcHBlci9wb2x5ZmlsbCBmb3IgQXJyYXkuaXNBcnJheS5cclxuXHRcdCAqIEBwYXJhbSB7YXJyYXl9IHggVmFyaWFibGUgdG8gY2hlY2suXHJcblx0XHQgKiBAcmV0dXJuIHtib29sfSBJZiB0cnVlLCB4IGlzIGFuIGFycmF5LiBJZiBmYWxzZSwgeCBpcyBub3QgYW4gYXJyYXkuXHJcblx0XHQgKi9cclxuXHRcdGlzQXJyYXk6IG51bGwsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTYWZlIHJlcGxhY2VtZW50IGZvciBcImZvci4uaW5cIi4gQXZvaWRzIHN0dWZmIHRoYXQgZG9lc24ndCBiZWxvbmcgdG8gdGhlIGFycmF5IGl0c2VsZiAoZWcuIHByb3BlcnRpZXMgYWRkZWQgdG8gQXJyYXkucHJvdG90eXBlKS5cclxuXHRcdCAqIEBwYXJhbSB7QXJyYXl9IGEgQXJyYXkgdG8gaXRlcmF0ZS5cclxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGYoaW5kZXgpIEZ1bmN0aW9uIHRvIGNhbGwgb24gZWFjaCBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRpdGVyYXRlOiBudWxsLFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0ZXJtaW5lcyBpZiBhIG1lZGlhIHF1ZXJ5IG1hdGNoZXMgdGhlIGN1cnJlbnQgYnJvd3NlciBzdGF0ZS5cclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSBNZWRpYSBxdWVyeS5cclxuXHRcdCAqIEByZXR1cm4ge2Jvb2x9IFRydWUgaWYgaXQgbWF0Y2hlcywgZmFsc2UgaWYgbm90LlxyXG5cdFx0ICovXHJcblx0XHRtYXRjaGVzTWVkaWE6IG51bGwsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFeHRlbmRzIHggYnkgeS5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB4IFRhcmdldCBvYmplY3QuXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0geSBTb3VyY2Ugb2JqZWN0LlxyXG5cdFx0ICovXHJcblx0XHRleHRlbmQ6IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHJcblx0XHRcdF8uaXRlcmF0ZSh5LCBmdW5jdGlvbihrKSB7XHJcblxyXG5cdFx0XHRcdGlmIChfLmlzQXJyYXkoeVtrXSkpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIV8uaXNBcnJheSh4W2tdKSlcclxuXHRcdFx0XHRcdFx0eFtrXSA9IFtdO1xyXG5cclxuXHRcdFx0XHRcdF8uZXh0ZW5kKHhba10sIHlba10pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIHlba10gPT0gJ29iamVjdCcpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHhba10gIT0gJ29iamVjdCcpXHJcblx0XHRcdFx0XHRcdHhba10gPSB7fTtcclxuXHJcblx0XHRcdFx0XHRfLmV4dGVuZCh4W2tdLCB5W2tdKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHhba10gPSB5W2tdO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZXMgYSBuZXcgc3R5bGUgZWxlbWVudC5cclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IENvbnRlbnQuXHJcblx0XHQgKiBAcmV0dXJuIHtET01IVE1MRWxlbWVudH0gU3R5bGUgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0bmV3U3R5bGU6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHJcblx0XHRcdHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHRcdFx0XHRlLnR5cGUgPSAndGV4dC9jc3MnO1xyXG5cdFx0XHRcdGUuaW5uZXJIVE1MID0gY29udGVudDtcclxuXHJcblx0XHRcdHJldHVybiBlO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblx0LyogTWV0aG9kczogQVBJICAgICAgICAgICAgICAgKi9cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVGVtcG9yYXJ5IGVsZW1lbnQgZm9yIGNhblVzZSgpXHJcblx0XHQgKiBAdHlwZSB7RE9NRWxlbWVudH1cclxuXHRcdCAqL1xyXG5cdFx0X2NhblVzZTogbnVsbCxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERldGVybWluZXMgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYSBnaXZlbiBwcm9wZXJ0eS5cclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwIFByb3BlcnR5LlxyXG5cdFx0ICogQHJldHVybiB7Ym9vbH0gVHJ1ZSBpZiBwcm9wZXJ0eSBpcyBzdXBwb3J0ZWQsIGZhbHNlIGlmIG5vdC5cclxuXHRcdCAqL1xyXG5cdFx0Y2FuVXNlOiBmdW5jdGlvbihwKSB7XHJcblxyXG5cdFx0XHQvLyBDcmVhdGUgdGVtcG9yYXJ5IGVsZW1lbnQgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxyXG5cdFx0XHRcdGlmICghXy5fY2FuVXNlKVxyXG5cdFx0XHRcdFx0Xy5fY2FuVXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdFx0XHQvLyBDaGVjayBmb3IgcHJvcGVydHkuXHJcblx0XHRcdFx0dmFyIGUgPSBfLl9jYW5Vc2Uuc3R5bGUsXHJcblx0XHRcdFx0XHR1cCA9IHAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwLnNsaWNlKDEpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm5cdChcclxuXHRcdFx0XHRcdFx0XHRwIGluIGVcclxuXHRcdFx0XHRcdFx0fHxcdCgnTW96JyArIHVwKSBpbiBlXHJcblx0XHRcdFx0XHRcdHx8XHQoJ1dlYmtpdCcgKyB1cCkgaW4gZVxyXG5cdFx0XHRcdFx0XHR8fFx0KCdPJyArIHVwKSBpbiBlXHJcblx0XHRcdFx0XHRcdHx8XHQoJ21zJyArIHVwKSBpbiBlXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHR9LFxyXG5cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cdC8qIE1ldGhvZHM6IEV2ZW50cyAgICAgICAgICAgICovXHJcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZ2lzdGVycyBvbmUgb3IgbW9yZSBldmVudHMuXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZXMgU3BhY2UtZGVsaW1pdGVkIGxpc3Qgb2YgZXZlbnQgbmFtZXMuXHJcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmIEZ1bmN0aW9uLlxyXG5cdFx0ICovXHJcblx0XHRvbjogZnVuY3Rpb24obmFtZXMsIGYpIHtcclxuXHJcblx0XHRcdHZhciBhID0gbmFtZXMuc3BsaXQoL1tcXHNdKy8pO1xyXG5cclxuXHRcdFx0Xy5pdGVyYXRlKGEsIGZ1bmN0aW9uKGkpIHtcclxuXHJcblx0XHRcdFx0dmFyIG5hbWUgPSBhW2ldO1xyXG5cclxuXHRcdFx0XHQvLyBNYW51YWxseSB0cmlnZ2VyIGV2ZW50IGlmIGFwcGxpY2FibGUuXHJcblx0XHRcdFx0XHRpZiAoXy5pc0luaXQpIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIEluaXQuXHJcblx0XHRcdFx0XHRcdFx0aWYgKG5hbWUgPT0gJ2luaXQnKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gVHJpZ2dlciBldmVudC5cclxuXHRcdFx0XHRcdFx0XHRcdFx0KGYpKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBvbmx5IGdldHMgY2FsbGVkIG9uY2UsIHNvIHRoZXJlJ3Mgbm8gbmVlZCB0byBhY3R1YWxseVxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gcmVnaXN0ZXIgaXQuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQ2hhbmdlLlxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgKG5hbWUgPT0gJ2NoYW5nZScpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBUcmlnZ2VyIGV2ZW50LlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQoZikoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQWN0aXZhdGUgLyBOb3QuXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHggPSBuYW1lLmNoYXJBdCgwKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoeCA9PSAnKycgfHwgeCA9PSAnIScpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB5ID0gbmFtZS5zdWJzdHJpbmcoMSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoeSBpbiBfLm9iai5icmVha3BvaW50cykge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBBY3RpdmF0ZS5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICh4ID09ICcrJyAmJiBfLm9iai5icmVha3BvaW50c1t5XS5hY3RpdmUpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRyaWdnZXIgZXZlbnQuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KGYpKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3QuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmICh4ID09ICchJyAmJiAhXy5vYmouYnJlYWtwb2ludHNbeV0uYWN0aXZlKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUcmlnZ2VyIGV2ZW50LlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdChmKSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBvbmx5IGdldHMgY2FsbGVkIG9uY2UsIHNvIHRoZXJlJ3Mgbm8gbmVlZCB0byBhY3R1YWxseVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyByZWdpc3RlciBpdC5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gTm8gcHJldmlvdXMgZXZlbnRzIG9mIHRoaXMgdHlwZSByZWdpc3RlcmVkPyBTZXQgdXAgaXRzIGFycmF5LlxyXG5cdFx0XHRcdFx0aWYgKCFfLmV2ZW50c1tuYW1lXSlcclxuXHRcdFx0XHRcdFx0Xy5ldmVudHNbbmFtZV0gPSBbXTtcclxuXHJcblx0XHRcdFx0Ly8gUmVnaXN0ZXIgZXZlbnQuXHJcblx0XHRcdFx0XHRfLmV2ZW50c1tuYW1lXS5wdXNoKGYpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gXztcclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcnMgYW4gZXZlbnQuXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lLlxyXG5cdFx0ICovXHJcblx0XHR0cmlnZ2VyOiBmdW5jdGlvbihuYW1lKSB7XHJcblxyXG5cdFx0XHQvLyBObyBldmVudHMgcmVnaXN0ZXJlZD8gQmFpbC5cclxuXHRcdFx0XHRpZiAoIV8uZXZlbnRzW25hbWVdIHx8IF8uZXZlbnRzW25hbWVdLmxlbmd0aCA9PSAwKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gU3RlcCB0aHJvdWdoIGFuZCBjYWxsIGV2ZW50cy5cclxuXHRcdFx0XHRfLml0ZXJhdGUoXy5ldmVudHNbbmFtZV0sIGZ1bmN0aW9uKGspIHtcclxuXHRcdFx0XHRcdChfLmV2ZW50c1tuYW1lXVtrXSkoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiBfO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblx0LyogTWV0aG9kczogQnJlYWtwb2ludHMgICAgICAgKi9cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0cyBhIGJyZWFrcG9pbnQuXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaWQgQnJlYWtwb2ludCBJRC5cclxuXHRcdCAqIEByZXR1cm4ge0JyZWFrcG9pbnR9IEJyZWFrcG9pbnQuXHJcblx0XHQgKi9cclxuXHRcdGJyZWFrcG9pbnQ6IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdHJldHVybiBfLm9iai5icmVha3BvaW50c1tpZF07XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyBicmVha3BvaW50cy5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBicmVha3BvaW50cyBCcmVha3BvaW50cy5cclxuXHRcdCAqL1xyXG5cdFx0YnJlYWtwb2ludHM6IGZ1bmN0aW9uKGJyZWFrcG9pbnRzKSB7XHJcblxyXG5cdFx0XHQvLyBCcmVha3BvaW50IGNsYXNzLlxyXG5cdFx0XHRcdGZ1bmN0aW9uIEJyZWFrcG9pbnQoaWQsIG1lZGlhKSB7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5uYW1lID0gdGhpcy5pZCA9IGlkO1xyXG5cdFx0XHRcdFx0dGhpcy5tZWRpYSA9IG1lZGlhO1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHRoaXMud2FzQWN0aXZlID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0QnJlYWtwb2ludC5wcm90b3R5cGUubWF0Y2hlcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gKF8ubWF0Y2hlc01lZGlhKHRoaXMubWVkaWEpKTtcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0QnJlYWtwb2ludC5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0dGhpcy53YXNBY3RpdmUgPSB0aGlzLmFjdGl2ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmUgPSB0aGlzLm1hdGNoZXMoKTtcclxuXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIGJyZWFrcG9pbnRzLlxyXG5cdFx0XHRcdF8uaXRlcmF0ZShicmVha3BvaW50cywgZnVuY3Rpb24oaWQpIHtcclxuXHRcdFx0XHRcdF8ub2JqLmJyZWFrcG9pbnRzW2lkXSA9IG5ldyBCcmVha3BvaW50KGlkLCBicmVha3BvaW50c1tpZF0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gSW5pdGlhbCBwb2xsLlxyXG5cdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0Xy5wb2xsKCk7XHJcblx0XHRcdFx0fSwgMCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gXztcclxuXHJcblx0XHR9LFxyXG5cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cdC8qIE1ldGhvZHM6IFN0YXRlcyAgICAgICAgICAgICovXHJcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgYSBzdGF0ZSBoYW5kbGVyLlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlkIElELlxyXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZiBIYW5kbGVyIGZ1bmN0aW9uLlxyXG5cdFx0ICovXHJcblx0XHRhZGRTdGF0ZUhhbmRsZXI6IGZ1bmN0aW9uKGlkLCBmKSB7XHJcblxyXG5cdFx0XHQvLyBBZGQgaGFuZGxlci5cclxuXHRcdFx0XHRfLnN0YXRlSGFuZGxlcnNbaWRdID0gZjtcclxuXHJcblx0XHRcdC8vIENhbGwgaXQuXHJcblx0XHRcdFx0Ly9fLmNhbGxTdGF0ZUhhbmRsZXIoaWQpO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxscyBhIHN0YXRlIGhhbmRsZXIuXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQuXHJcblx0XHQgKi9cclxuXHRcdGNhbGxTdGF0ZUhhbmRsZXI6IGZ1bmN0aW9uKGlkKSB7XHJcblxyXG5cdFx0XHQvLyBDYWxsIGhhbmRsZXIuXHJcblx0XHRcdFx0dmFyIGF0dGFjaG1lbnRzID0gKF8uc3RhdGVIYW5kbGVyc1tpZF0pKCk7XHJcblxyXG5cdFx0XHQvLyBBZGQgYXR0YWNobWVudHMgdG8gc3RhdGUgKGlmIGFueSkuXHJcblx0XHRcdFx0Xy5pdGVyYXRlKGF0dGFjaG1lbnRzLCBmdW5jdGlvbihpKSB7XHJcblx0XHRcdFx0XHRfLnN0YXRlLmF0dGFjaG1lbnRzLnB1c2goYXR0YWNobWVudHNbaV0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTd2l0Y2hlcyB0byBhIGRpZmZlcmVudCBzdGF0ZS5cclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdGF0ZUlkIE5ldyBzdGF0ZSBJRC5cclxuXHRcdCAqL1xyXG5cdFx0Y2hhbmdlU3RhdGU6IGZ1bmN0aW9uKG5ld1N0YXRlSWQpIHtcclxuXHJcblx0XHRcdC8vIFN5bmMgYWxsIGJyZWFrcG9pbnRzLlxyXG5cdFx0XHRcdF8uaXRlcmF0ZShfLm9iai5icmVha3BvaW50cywgZnVuY3Rpb24oaWQpIHtcclxuXHRcdFx0XHRcdF8ub2JqLmJyZWFrcG9pbnRzW2lkXS5zeW5jKCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBTZXQgbGFzdCBzdGF0ZSB2YXIuXHJcblx0XHRcdFx0Xy52YXJzLmxhc3RTdGF0ZUlkID0gXy5zdGF0ZUlkO1xyXG5cclxuXHRcdFx0Ly8gQ2hhbmdlIHN0YXRlIElELlxyXG5cdFx0XHRcdF8uc3RhdGVJZCA9IG5ld1N0YXRlSWQ7XHJcblx0XHRcdFx0Xy5icmVha3BvaW50SWRzID0gKF8uc3RhdGVJZCA9PT0gXy5zZCA/IFtdIDogXy5zdGF0ZUlkLnN1YnN0cmluZygxKS5zcGxpdChfLnNkKSk7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdbc2tlbF0gY2hhbmdpbmcgc3RhdGVzIChpZDogXCInICsgXy5zdGF0ZUlkICsgJ1wiKScpO1xyXG5cclxuXHRcdFx0Ly8gR2V0IHN0YXRlLlxyXG5cdFx0XHRcdGlmICghXy5vYmouc3RhdGVzW18uc3RhdGVJZF0pIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnW3NrZWxdIC0gbm90IGZvdW5kLiBidWlsZGluZyAuLi4nKTtcclxuXHJcblx0XHRcdFx0XHQvLyBCdWlsZCBzdGF0ZS5cclxuXHRcdFx0XHRcdFx0Xy5vYmouc3RhdGVzW18uc3RhdGVJZF0gPSB7XHJcblx0XHRcdFx0XHRcdFx0YXR0YWNobWVudHM6IFtdXHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRfLnN0YXRlID0gXy5vYmouc3RhdGVzW18uc3RhdGVJZF07XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2FsbCBhbGwgc3RhdGUgaGFuZGxlcnMuXHJcblx0XHRcdFx0XHRcdF8uaXRlcmF0ZShfLnN0YXRlSGFuZGxlcnMsIF8uY2FsbFN0YXRlSGFuZGxlcik7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnW3NrZWxdIC0gZm91bmQnKTtcclxuXHJcblx0XHRcdFx0XHQvLyBHZXQgc3RhdGUuXHJcblx0XHRcdFx0XHRcdF8uc3RhdGUgPSBfLm9iai5zdGF0ZXNbXy5zdGF0ZUlkXTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gRGV0YWNoIGFsbCBhdHRhY2htZW50cyAqRVhDRVBUKiBzdGF0ZSdzLlxyXG5cdFx0XHRcdF8uZGV0YWNoQWxsKF8uc3RhdGUuYXR0YWNobWVudHMpO1xyXG5cclxuXHRcdFx0Ly8gQXR0YWNoIHN0YXRlJ3MgYXR0YWNobWVudHMuXHJcblx0XHRcdFx0Xy5hdHRhY2hBbGwoXy5zdGF0ZS5hdHRhY2htZW50cyk7XHJcblxyXG5cdFx0XHQvLyBFeHBvc2Ugc3RhdGUgYW5kIHN0YXRlSWQgYXMgdmFycy5cclxuXHRcdFx0XHRfLnZhcnMuc3RhdGVJZCA9IF8uc3RhdGVJZDtcclxuXHRcdFx0XHRfLnZhcnMuc3RhdGUgPSBfLnN0YXRlO1xyXG5cclxuXHRcdFx0Ly8gVHJpZ2dlciBjaGFuZ2UgZXZlbnQuXHJcblx0XHRcdFx0Xy50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHJcblx0XHRcdC8vIFRyaWdnZXIgYWN0aXZhdGUvZGVhY3RpdmF0ZSBldmVudHMuXHJcblx0XHRcdFx0Xy5pdGVyYXRlKF8ub2JqLmJyZWFrcG9pbnRzLCBmdW5jdGlvbihpZCkge1xyXG5cclxuXHRcdFx0XHRcdC8vIEJyZWFrcG9pbnQgaXMgbm93IGFjdGl2ZSAuLi5cclxuXHRcdFx0XHRcdFx0aWYgKF8ub2JqLmJyZWFrcG9pbnRzW2lkXS5hY3RpdmUpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gLi4uIGFuZCBpdCB3YXNuJ3QgYWN0aXZlIGJlZm9yZT8gVHJpZ2dlciBhY3RpdmF0ZSBldmVudC5cclxuXHRcdFx0XHRcdFx0XHRcdGlmICghXy5vYmouYnJlYWtwb2ludHNbaWRdLndhc0FjdGl2ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0Xy50cmlnZ2VyKCcrJyArIGlkKTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBCcmVha3BvaW50IGlzIG5vdCBhY3RpdmUgLi4uXHJcblx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyAuLi4gYnV0IGl0IHdhcyBhY3RpdmUgYmVmb3JlPyBUcmlnZ2VyIGRlYWN0aXZhdGUgZXZlbnQuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoXy5vYmouYnJlYWtwb2ludHNbaWRdLndhc0FjdGl2ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0Xy50cmlnZ2VyKCctJyArIGlkKTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdlbmVyYXRlcyBhIHN0YXRlLXNwZWNpZmljIGNvbmZpZy5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBiYXNlQ29uZmlnIEJhc2UgY29uZmlnLlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGJyZWFrcG9pbnRDb25maWdzIEJyZWFrcG9pbnQtc3BlY2lmaWMgY29uZmlncy5cclxuXHRcdCAqIEByZXR1cm4ge29iamVjdH0gU3RhdGUtc3BlY2lmaWMgY29uZmlnLlxyXG5cdFx0ICovXHJcblx0XHRnZW5lcmF0ZVN0YXRlQ29uZmlnOiBmdW5jdGlvbihiYXNlQ29uZmlnLCBicmVha3BvaW50Q29uZmlncykge1xyXG5cclxuXHRcdFx0dmFyIHggPSB7fTtcclxuXHJcblx0XHRcdC8vIEV4dGVuZCB3aXRoIGJhc2UgY29uZmlnLlxyXG5cdFx0XHRcdF8uZXh0ZW5kKHgsIGJhc2VDb25maWcpO1xyXG5cclxuXHRcdFx0Ly8gRXh0ZW5kIHdpdGggY29uZmlncyBmb3IgZWFjaCBhY3RpdmUgYnJlYWtwb2ludC5cclxuXHRcdFx0XHRfLml0ZXJhdGUoXy5icmVha3BvaW50SWRzLCBmdW5jdGlvbihrKSB7XHJcblx0XHRcdFx0XHRfLmV4dGVuZCh4LCBicmVha3BvaW50Q29uZmlnc1tfLmJyZWFrcG9pbnRJZHNba11dKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiB4O1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIElELlxyXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSBTdGF0ZSBJRC5cclxuXHRcdCAqL1xyXG5cdFx0Z2V0U3RhdGVJZDogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHR2YXIgc3RhdGVJZCA9ICcnO1xyXG5cclxuXHRcdFx0Xy5pdGVyYXRlKF8ub2JqLmJyZWFrcG9pbnRzLCBmdW5jdGlvbihpZCkge1xyXG5cclxuXHRcdFx0XHR2YXIgYiA9IF8ub2JqLmJyZWFrcG9pbnRzW2lkXTtcclxuXHJcblx0XHRcdFx0Ly8gQWN0aXZlPyBBcHBlbmQgYnJlYWtwb2ludCBJRCB0byBzdGF0ZSBJRC5cclxuXHRcdFx0XHRcdGlmIChiLm1hdGNoZXMoKSlcclxuXHRcdFx0XHRcdFx0c3RhdGVJZCArPSBfLnNkICsgYi5pZDtcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cmV0dXJuIHN0YXRlSWQ7XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBvbGxzIGZvciBzdGF0ZSBjaGFuZ2VzLlxyXG5cdFx0ICovXHJcblx0XHRwb2xsOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdHZhciBuZXdTdGF0ZUlkID0gJyc7XHJcblxyXG5cdFx0XHQvLyBEZXRlcm1pbmUgbmV3IHN0YXRlLlxyXG5cdFx0XHRcdG5ld1N0YXRlSWQgPSBfLmdldFN0YXRlSWQoKTtcclxuXHJcblx0XHRcdFx0aWYgKG5ld1N0YXRlSWQgPT09ICcnKVxyXG5cdFx0XHRcdFx0bmV3U3RhdGVJZCA9IF8uc2Q7XHJcblxyXG5cdFx0XHQvLyBTdGF0ZSBjaGFuZ2VkP1xyXG5cdFx0XHRcdGlmIChuZXdTdGF0ZUlkICE9PSBfLnN0YXRlSWQpXHJcblx0XHRcdFx0XHRfLmNoYW5nZVN0YXRlKG5ld1N0YXRlSWQpO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblx0LyogTWV0aG9kczogQXR0YWNobWVudHMgICAgICAgKi9cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXR0YWNoIHBvaW50IGZvciBhdHRhY2goKVxyXG5cdFx0ICogQHR5cGUge0RPTUVsZW1lbnR9XHJcblx0XHQgKi9cclxuXHRcdF9hdHRhY2g6IG51bGwsXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBdHRhY2hlcyBhIHNpbmdsZSBhdHRhY2htZW50LlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGF0dGFjaG1lbnQgQXR0YWNobWVudC5cclxuXHRcdCAqIEByZXR1cm4gYm9vbCBUcnVlIG9uIHN1Y2Nlc3MsIGZhbHNlIG9uIGZhaWx1cmUuXHJcblx0XHQgKi9cclxuXHRcdGF0dGFjaDogZnVuY3Rpb24oYXR0YWNobWVudCkge1xyXG5cclxuXHRcdFx0dmFyXHRoID0gXy5vYmouaGVhZCxcclxuXHRcdFx0XHRlID0gYXR0YWNobWVudC5lbGVtZW50O1xyXG5cclxuXHRcdFx0Ly8gQWxyZWFkeSBhdHRhY2hlZD8gQmFpbC5cclxuXHRcdFx0XHRpZiAoZS5wYXJlbnROb2RlXHJcblx0XHRcdFx0JiZcdGUucGFyZW50Tm9kZS50YWdOYW1lKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gQWRkIHRvIDxoZWFkPlxyXG5cclxuXHRcdFx0XHQvLyBObyBhdHRhY2ggcG9pbnQgeWV0PyBVc2UgPGhlYWQ+J3MgZmlyc3QgY2hpbGQuXHJcblx0XHRcdFx0XHRpZiAoIV8uX2F0dGFjaClcclxuXHRcdFx0XHRcdFx0Xy5fYXR0YWNoID0gaC5maXJzdENoaWxkO1xyXG5cclxuXHRcdFx0XHQvLyBJbnNlcnQgZWxlbWVudC5cclxuXHRcdFx0XHRcdGguaW5zZXJ0QmVmb3JlKGUsIF8uX2F0dGFjaC5uZXh0U2libGluZyk7XHJcblxyXG5cdFx0XHRcdC8vIFBlcm1hbmVudCBhdHRhY2htZW50PyBNYWtlIGl0cyBlbGVtZW50IHRoZSBuZXcgYXR0YWNoIHBvaW50LlxyXG5cdFx0XHRcdFx0aWYgKGF0dGFjaG1lbnQucGVybWFuZW50KVxyXG5cdFx0XHRcdFx0XHRfLl9hdHRhY2ggPSBlO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ1tza2VsXSAnICsgYXR0YWNobWVudC5pZCArICc6IGF0dGFjaGVkICgnICsgYXR0YWNobWVudC5wcmlvcml0eSArICcpJyk7XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXR0YWNoZXMgYSBsaXN0IG9mIGF0dGFjaG1lbnRzLlxyXG5cdFx0ICogQHBhcmFtIHthcnJheX0gYXR0YWNobWVudHMgQXR0YWNobWVudHMuXHJcblx0XHQgKi9cclxuXHRcdGF0dGFjaEFsbDogZnVuY3Rpb24oYXR0YWNobWVudHMpIHtcclxuXHJcblx0XHRcdHZhciBhID0gW107XHJcblxyXG5cdFx0XHQvLyBPcmdhbml6ZSBhdHRhY2htZW50cyBieSBwcmlvcml0eS5cclxuXHRcdFx0XHRfLml0ZXJhdGUoYXR0YWNobWVudHMsIGZ1bmN0aW9uKGspIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIWFbIGF0dGFjaG1lbnRzW2tdLnByaW9yaXR5IF0pXHJcblx0XHRcdFx0XHRcdGFbIGF0dGFjaG1lbnRzW2tdLnByaW9yaXR5IF0gPSBbXTtcclxuXHJcblx0XHRcdFx0XHRhWyBhdHRhY2htZW50c1trXS5wcmlvcml0eSBdLnB1c2goYXR0YWNobWVudHNba10pO1xyXG5cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIFJldmVyc2UgYXJyYXkgb3JkZXIuXHJcblx0XHRcdFx0YS5yZXZlcnNlKCk7XHJcblxyXG5cdFx0XHQvLyBTdGVwIHRocm91Z2ggZWFjaCBwcmlvcml0eS5cclxuXHRcdFx0XHRfLml0ZXJhdGUoYSwgZnVuY3Rpb24oaykge1xyXG5cdFx0XHRcdFx0Xy5pdGVyYXRlKGFba10sIGZ1bmN0aW9uKHgpIHtcclxuXHRcdFx0XHRcdFx0Xy5hdHRhY2goYVtrXVt4XSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0YWNoZXMgYSBzaW5nbGUgYXR0YWNobWVudC5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBhdHRhY2htZW50IEF0dGFjaG1lbnQuXHJcblx0XHQgKiBAcmV0dXJuIGJvb2wgVHJ1ZSBvbiBzdWNjZXNzLCBmYWxzZSBvbiBmYWlsdXJlLlxyXG5cdFx0ICovXHJcblx0XHRkZXRhY2g6IGZ1bmN0aW9uKGF0dGFjaG1lbnQpIHtcclxuXHJcblx0XHRcdHZhclx0ZSA9IGF0dGFjaG1lbnQuZWxlbWVudDtcclxuXHJcblx0XHRcdC8vIFBlcm1hbmVudCBvciBhbHJlYWR5IGRldGFjaGVkPyBCYWlsLlxyXG5cdFx0XHRcdGlmIChhdHRhY2htZW50LnBlcm1hbmVudFxyXG5cdFx0XHRcdHx8XHQhZS5wYXJlbnROb2RlXHJcblx0XHRcdFx0fHxcdChlLnBhcmVudE5vZGUgJiYgIWUucGFyZW50Tm9kZS50YWdOYW1lKSlcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdC8vIERldGFjaC5cclxuXHRcdFx0XHRlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0YWNoZXMgYWxsIGF0dGFjaG1lbnRzLlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGV4Y2x1ZGUgQSBsaXN0IG9mIGF0dGFjaG1lbnRzIHRvIGV4Y2x1ZGUuXHJcblx0XHQgKi9cclxuXHRcdGRldGFjaEFsbDogZnVuY3Rpb24oZXhjbHVkZSkge1xyXG5cclxuXHRcdFx0dmFyIGwgPSB7fTtcclxuXHJcblx0XHRcdC8vIEJ1aWxkIGV4Y2x1c2lvbiBsaXN0IChmb3IgZmFzdGVyIGxvb2t1cHMpLlxyXG5cdFx0XHRcdF8uaXRlcmF0ZShleGNsdWRlLCBmdW5jdGlvbihrKSB7XHJcblx0XHRcdFx0XHRsW2V4Y2x1ZGVba10uaWRdID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdF8uaXRlcmF0ZShfLm9iai5hdHRhY2htZW50cywgZnVuY3Rpb24oaWQpIHtcclxuXHJcblx0XHRcdFx0Ly8gSW4gb3VyIGV4Y2x1c2lvbiBsaXN0PyBCYWlsLlxyXG5cdFx0XHRcdFx0aWYgKGlkIGluIGwpXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBkZXRhY2guXHJcblx0XHRcdFx0XHRfLmRldGFjaChfLm9iai5hdHRhY2htZW50c1tpZF0pO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHRhdHRhY2htZW50OiBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRyZXR1cm4gKGlkIGluIF8ub2JqLmF0dGFjaG1lbnRzID8gXy5vYmouYXR0YWNobWVudHNbaWRdIDogbnVsbCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlcyBhIG5ldyBhdHRhY2htZW50LlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlkIElELlxyXG5cdFx0ICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRuZXdBdHRhY2htZW50OiBmdW5jdGlvbihpZCwgZWxlbWVudCwgcHJpb3JpdHksIHBlcm1hbmVudCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIChfLm9iai5hdHRhY2htZW50c1tpZF0gPSB7XHJcblx0XHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXHJcblx0XHRcdFx0cHJpb3JpdHk6IHByaW9yaXR5LFxyXG5cdFx0XHRcdHBlcm1hbmVudDogcGVybWFuZW50XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblx0LyogTWV0aG9kczogSW5pdCAgICAgICAgICAgICAgKi9cclxuXHQvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgc2tlbC5cclxuXHRcdCAqIFRoaXMgaGFzIHRvIGJlIGV4cGxpY2l0bHkgY2FsbGVkIGJ5IHRoZSB1c2VyLlxyXG5cdFx0ICovXHJcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIEluaXRpYWxpemUgc3R1ZmYuXHJcblx0XHRcdFx0Xy5pbml0TWV0aG9kcygpO1xyXG5cdFx0XHRcdF8uaW5pdFZhcnMoKTtcclxuXHRcdFx0XHRfLmluaXRFdmVudHMoKTtcclxuXHJcblx0XHRcdC8vIFRtcC5cclxuXHRcdFx0XHRfLm9iai5oZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcclxuXHJcblx0XHRcdC8vIE1hcmsgYXMgaW5pdGlhbGl6ZWQuXHJcblx0XHRcdFx0Xy5pc0luaXQgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gVHJpZ2dlciBpbml0IGV2ZW50LlxyXG5cdFx0XHRcdF8udHJpZ2dlcignaW5pdCcpO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ1tza2VsXSBpbml0aWFsaXplZC4nKTtcclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgYnJvd3NlciBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdGluaXRFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0Ly8gT24gcmVzaXplLlxyXG5cdFx0XHRcdF8ub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkgeyBfLnBvbGwoKTsgfSk7XHJcblxyXG5cdFx0XHQvLyBPbiBvcmllbnRhdGlvbiBjaGFuZ2UuXHJcblx0XHRcdFx0Xy5vbignb3JpZW50YXRpb25DaGFuZ2UnLCBmdW5jdGlvbigpIHsgXy5wb2xsKCk7IH0pO1xyXG5cclxuXHRcdFx0Ly8gV3JhcCBcInJlYWR5XCIgZXZlbnQuXHJcblx0XHRcdFx0Xy5ET01SZWFkeShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdF8udHJpZ2dlcigncmVhZHknKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIE5vbi1kZXN0cnVjdGl2ZWx5IHJlZ2lzdGVyIHNrZWwgZXZlbnRzIHRvIHdpbmRvdy5cclxuXHJcblx0XHRcdFx0Ly8gTG9hZC5cclxuXHRcdFx0XHRcdGlmICh3aW5kb3cub25sb2FkKVxyXG5cdFx0XHRcdFx0XHRfLm9uKCdsb2FkJywgd2luZG93Lm9ubG9hZCk7XHJcblxyXG5cdFx0XHRcdFx0d2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgeyBfLnRyaWdnZXIoJ2xvYWQnKTsgfTtcclxuXHJcblx0XHRcdFx0Ly8gUmVzaXplLlxyXG5cdFx0XHRcdFx0aWYgKHdpbmRvdy5vbnJlc2l6ZSlcclxuXHRcdFx0XHRcdFx0Xy5vbigncmVzaXplJywgd2luZG93Lm9ucmVzaXplKTtcclxuXHJcblx0XHRcdFx0XHR3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpIHsgXy50cmlnZ2VyKCdyZXNpemUnKTsgfTtcclxuXHJcblx0XHRcdFx0Ly8gT3JpZW50YXRpb24gY2hhbmdlLlxyXG5cdFx0XHRcdFx0aWYgKHdpbmRvdy5vbm9yaWVudGF0aW9uY2hhbmdlKVxyXG5cdFx0XHRcdFx0XHRfLm9uKCdvcmllbnRhdGlvbkNoYW5nZScsIHdpbmRvdy5vbm9yaWVudGF0aW9uY2hhbmdlKTtcclxuXHJcblx0XHRcdFx0XHR3aW5kb3cub25vcmllbnRhdGlvbmNoYW5nZSA9IGZ1bmN0aW9uKCkgeyBfLnRyaWdnZXIoJ29yaWVudGF0aW9uQ2hhbmdlJyk7IH07XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIG1ldGhvZHMuXHJcblx0XHQgKi9cclxuXHRcdGluaXRNZXRob2RzOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIF8uRE9NUmVhZHkgKGJhc2VkIG9uIGdpdGh1Yi5jb20vZGVkL2RvbXJlYWR5IGJ5IEBkZWQ7IGRvbXJlYWR5IChjKSBEdXN0aW4gRGlheiAyMDE0IC0gTGljZW5zZSBNSVQpXHJcblxyXG5cdFx0XHRcdC8vIEhhY2s6IFVzZSBvbGRlciB2ZXJzaW9uIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgYWRkRXZlbnRMaXN0ZW5lciAoKmNvdWdoKiBJRTgpLlxyXG5cdFx0XHRcdFx0aWYgKCFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKVxyXG5cdFx0XHRcdFx0XHQhZnVuY3Rpb24oZSx0KXtfLkRPTVJlYWR5ID0gdCgpfShcImRvbXJlYWR5XCIsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcChlKXtoPTE7d2hpbGUoZT10LnNoaWZ0KCkpZSgpfXZhciB0PVtdLG4scj0hMSxpPWRvY3VtZW50LHM9aS5kb2N1bWVudEVsZW1lbnQsbz1zLmRvU2Nyb2xsLHU9XCJET01Db250ZW50TG9hZGVkXCIsYT1cImFkZEV2ZW50TGlzdGVuZXJcIixmPVwib25yZWFkeXN0YXRlY2hhbmdlXCIsbD1cInJlYWR5U3RhdGVcIixjPW8/L15sb2FkZWR8XmMvOi9ebG9hZGVkfGMvLGg9Yy50ZXN0KGlbbF0pO3JldHVybiBpW2FdJiZpW2FdKHUsbj1mdW5jdGlvbigpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcih1LG4scikscCgpfSxyKSxvJiZpLmF0dGFjaEV2ZW50KGYsbj1mdW5jdGlvbigpey9eYy8udGVzdChpW2xdKSYmKGkuZGV0YWNoRXZlbnQoZixuKSxwKCkpfSksZT1vP2Z1bmN0aW9uKG4pe3NlbGYhPXRvcD9oP24oKTp0LnB1c2gobik6ZnVuY3Rpb24oKXt0cnl7cy5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2godCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKG4pfSw1MCl9bigpfSgpfTpmdW5jdGlvbihlKXtoP2UoKTp0LnB1c2goZSl9fSk7XHJcblx0XHRcdFx0Ly8gQW5kIGV2ZXJ5b25lIGVsc2UuXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdCFmdW5jdGlvbihlLHQpe18uRE9NUmVhZHkgPSB0KCl9KFwiZG9tcmVhZHlcIixmdW5jdGlvbigpe2Z1bmN0aW9uIHModCl7aT0xO3doaWxlKHQ9ZS5zaGlmdCgpKXQoKX12YXIgZT1bXSx0LG49ZG9jdW1lbnQscj1cIkRPTUNvbnRlbnRMb2FkZWRcIixpPS9ebG9hZGVkfF5jLy50ZXN0KG4ucmVhZHlTdGF0ZSk7cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcihyLHQ9ZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIocix0KSxzKCl9KSxmdW5jdGlvbih0KXtpP3QoKTplLnB1c2godCl9fSk7XHJcblxyXG5cdFx0XHQvLyBfLmluZGV4T2ZcclxuXHJcblx0XHRcdFx0Ly8gV3JhcCBleGlzdGluZyBtZXRob2QgaWYgaXQgZXhpc3RzLlxyXG5cdFx0XHRcdFx0aWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKVxyXG5cdFx0XHRcdFx0XHRfLmluZGV4T2YgPSBmdW5jdGlvbih4LGIpIHsgcmV0dXJuIHguaW5kZXhPZihiKSB9O1xyXG5cclxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIHBvbHlmaWxsLlxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRfLmluZGV4T2YgPSBmdW5jdGlvbih4LGIpe2lmICh0eXBlb2YgeD09J3N0cmluZycpIHJldHVybiB4LmluZGV4T2YoYik7dmFyIGMsYT0oYik/YjowLGU7aWYoIXRoaXMpe3Rocm93IG5ldyBUeXBlRXJyb3IoKX1lPXRoaXMubGVuZ3RoO2lmKGU9PT0wfHxhPj1lKXtyZXR1cm4gLTF9aWYoYTwwKXthPWUtTWF0aC5hYnMoYSl9Zm9yKGM9YTtjPGU7YysrKXtpZih0aGlzW2NdPT09eCl7cmV0dXJuIGN9fXJldHVybiAtMX07XHJcblxyXG5cdFx0XHQvLyBfLmlzQXJyYXlcclxuXHJcblx0XHRcdFx0Ly8gV3JhcCBleGlzdGluZyBtZXRob2QgaWYgaXQgZXhpc3RzLlxyXG5cdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkpXHJcblx0XHRcdFx0XHRcdF8uaXNBcnJheSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgfTtcclxuXHJcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBwb2x5ZmlsbC5cclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0Xy5pc0FycmF5ID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJykgfTtcclxuXHJcblx0XHRcdC8vIF8uaXRlcmF0ZVxyXG5cclxuXHRcdFx0XHQvLyBVc2UgT2JqZWN0LmtleXMgaWYgaXQgZXhpc3RzICg9IGJldHRlciBwZXJmb3JtYW5jZSkuXHJcblx0XHRcdFx0XHRpZiAoT2JqZWN0LmtleXMpXHJcblx0XHRcdFx0XHRcdF8uaXRlcmF0ZSA9IGZ1bmN0aW9uKGEsIGYpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKCFhKVxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgaSwgayA9IE9iamVjdC5rZXlzKGEpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBrW2ldOyBpKyspIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoKGYpKGtbaV0sIGFba1tpXV0pID09PSBmYWxzZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgZmFsbCBiYWNrIG9uIGhhc093blByb3BlcnR5ICg9IHNsb3dlciwgYnV0IHdvcmtzIG9uIG9sZGVyIGJyb3dzZXJzKS5cclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0Xy5pdGVyYXRlID0gZnVuY3Rpb24oYSwgZikge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIWEpXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gW107XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciBpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRmb3IgKGkgaW4gYSlcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgaSkpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICgoZikoaSwgYVtpXSkgPT09IGZhbHNlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBfLm1hdGNoZXNNZWRpYVxyXG5cclxuXHRcdFx0XHQvLyBEZWZhdWx0OiBVc2UgbWF0Y2hNZWRpYSAoYWxsIG1vZGVybiBicm93c2VycylcclxuXHRcdFx0XHRcdGlmICh3aW5kb3cubWF0Y2hNZWRpYSlcclxuXHRcdFx0XHRcdFx0Xy5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbihxdWVyeSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAocXVlcnkgPT0gJycpXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KS5tYXRjaGVzO1xyXG5cclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gUG9seWZpbGwgMTogVXNlIHN0eWxlTWVkaWEvbWVkaWEgKElFOSwgb2xkZXIgV2Via2l0KSAoZGVyaXZlZCBmcm9tIGdpdGh1Yi5jb20vcGF1bGlyaXNoL21hdGNoTWVkaWEuanMpXHJcblx0XHRcdFx0XHRlbHNlIGlmICh3aW5kb3cuc3R5bGVNZWRpYSB8fCB3aW5kb3cubWVkaWEpXHJcblx0XHRcdFx0XHRcdF8ubWF0Y2hlc01lZGlhID0gZnVuY3Rpb24ocXVlcnkpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHF1ZXJ5ID09ICcnKVxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciBzdHlsZU1lZGlhID0gKHdpbmRvdy5zdHlsZU1lZGlhIHx8IHdpbmRvdy5tZWRpYSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBzdHlsZU1lZGlhLm1hdGNoTWVkaXVtKHF1ZXJ5IHx8ICdhbGwnKTtcclxuXHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIFBvbHlmaWxsIDI6IFVzZSBnZXRDb21wdXRlZCBTdHlsZSAoPz8/KSAoZGVyaXZlZCBmcm9tIGdpdGh1Yi5jb20vcGF1bGlyaXNoL21hdGNoTWVkaWEuanMpXHJcblx0XHRcdFx0XHRlbHNlIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSlcclxuXHRcdFx0XHRcdFx0Xy5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbihxdWVyeSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAocXVlcnkgPT0gJycpXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyXHRzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXHJcblx0XHRcdFx0XHRcdFx0XHRzY3JpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF0sXHJcblx0XHRcdFx0XHRcdFx0XHRpbmZvID0gbnVsbDtcclxuXHJcblx0XHRcdFx0XHRcdFx0c3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XHJcblx0XHRcdFx0XHRcdFx0c3R5bGUuaWQgPSAnbWF0Y2htZWRpYWpzLXRlc3QnO1xyXG5cdFx0XHRcdFx0XHRcdHNjcmlwdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzdHlsZSwgc2NyaXB0KTtcclxuXHRcdFx0XHRcdFx0XHRpbmZvID0gKCdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cpICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0eWxlLCBudWxsKSB8fCBzdHlsZS5jdXJyZW50U3R5bGU7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciB0ZXh0ID0gJ0BtZWRpYSAnICsgcXVlcnkgKyAneyAjbWF0Y2htZWRpYWpzLXRlc3QgeyB3aWR0aDogMXB4OyB9IH0nO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoc3R5bGUuc3R5bGVTaGVldClcclxuXHRcdFx0XHRcdFx0XHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRleHQ7XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0c3R5bGUudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaW5mby53aWR0aCA9PT0gJzFweCc7XHJcblxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQvLyBQb2x5ZmlsbCAzOiBNYW51YWxseSBwYXJzZSAoSUU8OSlcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0Xy5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbihxdWVyeSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBFbXB0eSBxdWVyeT8gQWx3YXlzIHN1Y2NlZWQuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAocXVlcnkgPT0gJycpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBQYXJzZSBxdWVyeS5cclxuXHRcdFx0XHRcdFx0XHRcdHZhciBrLCBzLCBhLCBiLCB2YWx1ZXMgPSB7ICdtaW4td2lkdGgnOiBudWxsLCAnbWF4LXdpZHRoJzogbnVsbCB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGEgPSBxdWVyeS5zcGxpdCgvXFxzK2FuZFxccysvKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGsgPSAwOyBrIDwgYS5sZW5ndGg7IGsrKykge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0cyA9IGFba107XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBPcGVyYXRvciAoa2V5OiB2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAocy5jaGFyQXQoMCkgPT0gJygnKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cyA9IHMuc3Vic3RyaW5nKDEsIHMubGVuZ3RoIC0gMSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiID0gcy5zcGxpdCgvOlxccysvKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoYi5sZW5ndGggPT0gMikge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWVzWyBiWzBdLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKSBdID0gcGFyc2VJbnQoIGJbMV0gKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm91bmQgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gTm8gbWF0Y2hlcz8gUXVlcnkgbGlrZWx5IGNvbnRhaW5lZCBzb21ldGhpbmcgdW5zdXBwb3J0ZWQgc28gd2UgYXV0b21hdGljYWxseSBmYWlsLlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFmb3VuZClcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBhZ2FpbnN0IHZpZXdwb3J0LlxyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmICgodmFsdWVzWydtaW4td2lkdGgnXSAhPT0gbnVsbCAmJiB3IDwgdmFsdWVzWydtaW4td2lkdGgnXSlcclxuXHRcdFx0XHRcdFx0XHRcdHx8XHQodmFsdWVzWydtYXgtd2lkdGgnXSAhPT0gbnVsbCAmJiB3ID4gdmFsdWVzWydtYXgtd2lkdGgnXSlcclxuXHRcdFx0XHRcdFx0XHRcdHx8XHQodmFsdWVzWydtaW4taGVpZ2h0J10gIT09IG51bGwgJiYgaCA8IHZhbHVlc1snbWluLWhlaWdodCddKVxyXG5cdFx0XHRcdFx0XHRcdFx0fHxcdCh2YWx1ZXNbJ21heC1oZWlnaHQnXSAhPT0gbnVsbCAmJiBoID4gdmFsdWVzWydtYXgtaGVpZ2h0J10pKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIF8ubmV3U3R5bGVcclxuXHJcblx0XHRcdFx0Ly8gSUU8OSBmaXguXHJcblx0XHRcdFx0XHRpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTVNJRSAoWzAtOV0rKS8pXHJcblx0XHRcdFx0XHQmJlx0UmVnRXhwLiQxIDwgOSlcclxuXHRcdFx0XHRcdFx0Xy5uZXdTdHlsZSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlLmlubmVySFRNTCA9ICcmbmJzcDs8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JyArIGNvbnRlbnQgKyAnPC9zdHlsZT4nO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZTtcclxuXHJcblx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSB2YXJzLlxyXG5cdFx0ICovXHJcblx0XHRpbml0VmFyczogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHR2YXIgeCwgeSwgYSwgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG5cclxuXHRcdFx0Ly8gYnJvd3NlciwgYnJvd3NlclZlcnNpb24uXHJcblx0XHRcdFx0eCA9ICdvdGhlcic7XHJcblx0XHRcdFx0eSA9IDA7XHJcblx0XHRcdFx0YSA9IFtcclxuXHRcdFx0XHRcdFsnZmlyZWZveCcsXHRcdC9GaXJlZm94XFwvKFswLTlcXC5dKykvXSxcclxuXHRcdFx0XHRcdFsnYmInLFx0XHRcdC9CbGFja0JlcnJ5LitWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcclxuXHRcdFx0XHRcdFsnYmInLFx0XHRcdC9CQlswLTldKy4rVmVyc2lvblxcLyhbMC05XFwuXSspL10sXHJcblx0XHRcdFx0XHRbJ29wZXJhJyxcdFx0L09QUlxcLyhbMC05XFwuXSspL10sXHJcblx0XHRcdFx0XHRbJ29wZXJhJyxcdFx0L09wZXJhXFwvKFswLTlcXC5dKykvXSxcclxuXHRcdFx0XHRcdFsnZWRnZScsXHRcdC9FZGdlXFwvKFswLTlcXC5dKykvXSxcclxuXHRcdFx0XHRcdFsnc2FmYXJpJyxcdFx0L1ZlcnNpb25cXC8oWzAtOVxcLl0rKS4rU2FmYXJpL10sXHJcblx0XHRcdFx0XHRbJ2Nocm9tZScsXHRcdC9DaHJvbWVcXC8oWzAtOVxcLl0rKS9dLFxyXG5cdFx0XHRcdFx0WydpZScsIFx0XHRcdC9NU0lFIChbMC05XSspL10sXHJcblx0XHRcdFx0XHRbJ2llJyxcdFx0XHQvVHJpZGVudFxcLy4rcnY6KFswLTldKykvXVxyXG5cdFx0XHRcdF07XHJcblxyXG5cdFx0XHRcdF8uaXRlcmF0ZShhLCBmdW5jdGlvbihrLCB2KSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHVhLm1hdGNoKHZbMV0pKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR4ID0gdlswXTtcclxuXHRcdFx0XHRcdFx0eSA9IHBhcnNlRmxvYXQoUmVnRXhwLiQxKTtcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRfLnZhcnMuYnJvd3NlciA9IHg7XHJcblx0XHRcdFx0Xy52YXJzLmJyb3dzZXJWZXJzaW9uID0geTtcclxuXHJcblx0XHRcdC8vIG9zLCBvc1ZlcnNpb24uXHJcblx0XHRcdFx0eCA9ICdvdGhlcic7XHJcblx0XHRcdFx0eSA9IDA7XHJcblx0XHRcdFx0YSA9IFtcclxuXHRcdFx0XHRcdFsnaW9zJyxcdFx0XHQvKFswLTlfXSspIGxpa2UgTWFjIE9TIFgvLFx0XHRcdGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYucmVwbGFjZSgnXycsICcuJykucmVwbGFjZSgnXycsICcnKTsgfV0sXHJcblx0XHRcdFx0XHRbJ2lvcycsXHRcdFx0L0NQVSBsaWtlIE1hYyBPUyBYLyxcdFx0XHRcdGZ1bmN0aW9uKHYpIHsgcmV0dXJuIDAgfV0sXHJcblx0XHRcdFx0XHRbJ3dwJyxcdFx0XHQvV2luZG93cyBQaG9uZSAoWzAtOVxcLl0rKS8sXHRcdFx0bnVsbF0sXHJcblx0XHRcdFx0XHRbJ2FuZHJvaWQnLFx0XHQvQW5kcm9pZCAoWzAtOVxcLl0rKS8sXHRcdFx0XHRudWxsXSxcclxuXHRcdFx0XHRcdFsnbWFjJyxcdFx0XHQvTWFjaW50b3NoLitNYWMgT1MgWCAoWzAtOV9dKykvLFx0ZnVuY3Rpb24odikgeyByZXR1cm4gdi5yZXBsYWNlKCdfJywgJy4nKS5yZXBsYWNlKCdfJywgJycpOyB9XSxcclxuXHRcdFx0XHRcdFsnd2luZG93cycsXHRcdC9XaW5kb3dzIE5UIChbMC05XFwuXSspLyxcdFx0XHRudWxsXSxcclxuXHRcdFx0XHRcdFsnYmInLFx0XHRcdC9CbGFja0JlcnJ5LitWZXJzaW9uXFwvKFswLTlcXC5dKykvLFx0bnVsbF0sXHJcblx0XHRcdFx0XHRbJ2JiJyxcdFx0XHQvQkJbMC05XSsuK1ZlcnNpb25cXC8oWzAtOVxcLl0rKS8sXHRudWxsXVxyXG5cdFx0XHRcdF07XHJcblxyXG5cdFx0XHRcdF8uaXRlcmF0ZShhLCBmdW5jdGlvbihrLCB2KSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHVhLm1hdGNoKHZbMV0pKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR4ID0gdlswXTtcclxuXHRcdFx0XHRcdFx0eSA9IHBhcnNlRmxvYXQoIHZbMl0gPyAodlsyXSkoUmVnRXhwLiQxKSA6IFJlZ0V4cC4kMSApO1xyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdF8udmFycy5vcyA9IHg7XHJcblx0XHRcdFx0Xy52YXJzLm9zVmVyc2lvbiA9IHk7XHJcblxyXG5cdFx0XHQvLyBJRVZlcnNpb24uXHJcblx0XHRcdFx0Xy52YXJzLklFVmVyc2lvbiA9IChfLnZhcnMuYnJvd3NlciA9PSAnaWUnID8gXy52YXJzLmJyb3dzZXJWZXJzaW9uIDogOTkpO1xyXG5cclxuXHRcdFx0Ly8gdG91Y2guXHJcblx0XHRcdFx0Xy52YXJzLnRvdWNoID0gKF8udmFycy5vcyA9PSAnd3AnID8gKG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkgOiAhISgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpKTtcclxuXHJcblx0XHRcdC8vIG1vYmlsZS5cclxuXHRcdFx0XHRfLnZhcnMubW9iaWxlID0gKF8udmFycy5vcyA9PSAnd3AnIHx8IF8udmFycy5vcyA9PSAnYW5kcm9pZCcgfHwgXy52YXJzLm9zID09ICdpb3MnIHx8IF8udmFycy5vcyA9PSAnYmInKTtcclxuXHJcblx0XHR9LFxyXG5cclxufTsgXy5pbml0KCk7IHJldHVybiBfOyB9KSgpO1xyXG5cclxuLy8gVU1EIFdyYXBwZXIgKGdpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMgfCBAdW1kanMgKyBAbmFzb24pXHJcbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XHJcblxyXG5cdC8vIEFNRC5cclxuXHRcdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXHJcblx0XHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XHJcblxyXG5cdC8vIE5vZGUuXHJcblx0XHRlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXHJcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG5cclxuXHQvLyBCcm93c2VyIGdsb2JhbC5cclxuXHRcdGVsc2VcclxuXHRcdFx0cm9vdC5za2VsID0gZmFjdG9yeSgpO1xyXG5cclxufSh0aGlzLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNrZWw7IH0pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3NrZWwtZnJhbWV3b3JrL3NyYy9za2VsLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIDMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 341:
/***/ function(module, exports, __webpack_require__) {

"use strict";
eval("'use strict';\n\nvar _skelFramework = __webpack_require__(307);\n\nvar _skelFramework2 = _interopRequireDefault(_skelFramework);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function ($) {\n\n  _skelFramework2.default.breakpoints({\n    xlarge: '(max-width: 1680px)',\n    large: '(max-width: 1280px)',\n    medium: '(max-width: 980px)',\n    small: '(max-width: 736px)',\n    xsmall: '(max-width: 480px)',\n    xxsmall: '(max-width: 360px)'\n  });\n\n  $(function () {\n\n    var $window = $(window),\n        $body = $('body'),\n        $main = $('#main');\n\n    // Disable animations/transitions until the page has loaded.\n    $body.addClass('is-loading');\n\n    $window.on('load', function () {\n      window.setTimeout(function () {\n        $body.removeClass('is-loading');\n      }, 100);\n    });\n\n    // Fix: Placeholder polyfill.\n    $('form').placeholder();\n\n    // Prioritize \"important\" elements on medium.\n    _skelFramework2.default.on('+medium -medium', function () {\n      $.prioritize('.important\\\\28 medium\\\\29', _skelFramework2.default.breakpoint('medium').active);\n    });\n\n    // Nav.\n    var $nav = $('#nav');\n\n    if ($nav.length > 0) {\n\n      // Shrink effect.\n      $main.scrollex({\n        mode: 'top',\n        enter: function enter() {\n          $nav.addClass('alt');\n        },\n        leave: function leave() {\n          $nav.removeClass('alt');\n        }\n      });\n\n      // Links.\n      var $nav_a = $nav.find('a');\n\n      $nav_a.scrolly({\n        speed: 1000,\n        offset: function offset() {\n          return $nav.height();\n        }\n      }).on('click', function () {\n\n        var $this = $(this);\n\n        // External link? Bail.\n        if ($this.attr('href').charAt(0) != '#') return;\n\n        // Deactivate all links.\n        $nav_a.removeClass('active').removeClass('active-locked');\n\n        // Activate link *and* lock it (so Scrollex doesn't try to activate other links as we're scrolling to this one's section).\n        $this.addClass('active').addClass('active-locked');\n      }).each(function () {\n\n        var $this = $(this),\n            id = $this.attr('href'),\n            $section = $(id);\n\n        // No section for this link? Bail.\n        if ($section.length < 1) return;\n\n        // Scrollex.\n        $section.scrollex({\n          mode: 'middle',\n          initialize: function initialize() {\n\n            // Deactivate section.\n            if (_skelFramework2.default.canUse('transition')) $section.addClass('inactive');\n          },\n\n          enter: function enter() {\n\n            // Activate section.\n            $section.removeClass('inactive');\n\n            // No locked links? Deactivate all links and activate this section's one.\n            if ($nav_a.filter('.active-locked').length == 0) {\n\n              $nav_a.removeClass('active');\n              $this.addClass('active' // Otherwise, if this section's link is the one that's locked, unlock it.\n              );\n            } else if ($this.hasClass('active-locked')) $this.removeClass('active-locked');\n          }\n        });\n      });\n    }\n\n    // Scrolly.\n    $('.scrolly').scrolly({ speed: 1000 });\n  });\n})(jQuery);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanM/YWNhZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfc2tlbEZyYW1ld29yayA9IHJlcXVpcmUoJ3NrZWwtZnJhbWV3b3JrJyk7XG5cbnZhciBfc2tlbEZyYW1ld29yazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9za2VsRnJhbWV3b3JrKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgX3NrZWxGcmFtZXdvcmsyLmRlZmF1bHQuYnJlYWtwb2ludHMoe1xuICAgIHhsYXJnZTogJyhtYXgtd2lkdGg6IDE2ODBweCknLFxuICAgIGxhcmdlOiAnKG1heC13aWR0aDogMTI4MHB4KScsXG4gICAgbWVkaXVtOiAnKG1heC13aWR0aDogOTgwcHgpJyxcbiAgICBzbWFsbDogJyhtYXgtd2lkdGg6IDczNnB4KScsXG4gICAgeHNtYWxsOiAnKG1heC13aWR0aDogNDgwcHgpJyxcbiAgICB4eHNtYWxsOiAnKG1heC13aWR0aDogMzYwcHgpJ1xuICB9KTtcblxuICAkKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAkYm9keSA9ICQoJ2JvZHknKSxcbiAgICAgICAgJG1haW4gPSAkKCcjbWFpbicpO1xuXG4gICAgLy8gRGlzYWJsZSBhbmltYXRpb25zL3RyYW5zaXRpb25zIHVudGlsIHRoZSBwYWdlIGhhcyBsb2FkZWQuXG4gICAgJGJvZHkuYWRkQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcblxuICAgICR3aW5kb3cub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICRib2R5LnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuXG4gICAgLy8gRml4OiBQbGFjZWhvbGRlciBwb2x5ZmlsbC5cbiAgICAkKCdmb3JtJykucGxhY2Vob2xkZXIoKTtcblxuICAgIC8vIFByaW9yaXRpemUgXCJpbXBvcnRhbnRcIiBlbGVtZW50cyBvbiBtZWRpdW0uXG4gICAgX3NrZWxGcmFtZXdvcmsyLmRlZmF1bHQub24oJyttZWRpdW0gLW1lZGl1bScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQucHJpb3JpdGl6ZSgnLmltcG9ydGFudFxcXFwyOCBtZWRpdW1cXFxcMjknLCBfc2tlbEZyYW1ld29yazIuZGVmYXVsdC5icmVha3BvaW50KCdtZWRpdW0nKS5hY3RpdmUpO1xuICAgIH0pO1xuXG4gICAgLy8gTmF2LlxuICAgIHZhciAkbmF2ID0gJCgnI25hdicpO1xuXG4gICAgaWYgKCRuYXYubGVuZ3RoID4gMCkge1xuXG4gICAgICAvLyBTaHJpbmsgZWZmZWN0LlxuICAgICAgJG1haW4uc2Nyb2xsZXgoe1xuICAgICAgICBtb2RlOiAndG9wJyxcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgICAgICRuYXYuYWRkQ2xhc3MoJ2FsdCcpO1xuICAgICAgICB9LFxuICAgICAgICBsZWF2ZTogZnVuY3Rpb24gbGVhdmUoKSB7XG4gICAgICAgICAgJG5hdi5yZW1vdmVDbGFzcygnYWx0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBMaW5rcy5cbiAgICAgIHZhciAkbmF2X2EgPSAkbmF2LmZpbmQoJ2EnKTtcblxuICAgICAgJG5hdl9hLnNjcm9sbHkoe1xuICAgICAgICBzcGVlZDogMTAwMCxcbiAgICAgICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoKSB7XG4gICAgICAgICAgcmV0dXJuICRuYXYuaGVpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAgIC8vIEV4dGVybmFsIGxpbms/IEJhaWwuXG4gICAgICAgIGlmICgkdGhpcy5hdHRyKCdocmVmJykuY2hhckF0KDApICE9ICcjJykgcmV0dXJuO1xuXG4gICAgICAgIC8vIERlYWN0aXZhdGUgYWxsIGxpbmtzLlxuICAgICAgICAkbmF2X2EucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUtbG9ja2VkJyk7XG5cbiAgICAgICAgLy8gQWN0aXZhdGUgbGluayAqYW5kKiBsb2NrIGl0IChzbyBTY3JvbGxleCBkb2Vzbid0IHRyeSB0byBhY3RpdmF0ZSBvdGhlciBsaW5rcyBhcyB3ZSdyZSBzY3JvbGxpbmcgdG8gdGhpcyBvbmUncyBzZWN0aW9uKS5cbiAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdhY3RpdmUtbG9ja2VkJyk7XG4gICAgICB9KS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgaWQgPSAkdGhpcy5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICAkc2VjdGlvbiA9ICQoaWQpO1xuXG4gICAgICAgIC8vIE5vIHNlY3Rpb24gZm9yIHRoaXMgbGluaz8gQmFpbC5cbiAgICAgICAgaWYgKCRzZWN0aW9uLmxlbmd0aCA8IDEpIHJldHVybjtcblxuICAgICAgICAvLyBTY3JvbGxleC5cbiAgICAgICAgJHNlY3Rpb24uc2Nyb2xsZXgoe1xuICAgICAgICAgIG1vZGU6ICdtaWRkbGUnLFxuICAgICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIC8vIERlYWN0aXZhdGUgc2VjdGlvbi5cbiAgICAgICAgICAgIGlmIChfc2tlbEZyYW1ld29yazIuZGVmYXVsdC5jYW5Vc2UoJ3RyYW5zaXRpb24nKSkgJHNlY3Rpb24uYWRkQ2xhc3MoJ2luYWN0aXZlJyk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGVudGVyOiBmdW5jdGlvbiBlbnRlcigpIHtcblxuICAgICAgICAgICAgLy8gQWN0aXZhdGUgc2VjdGlvbi5cbiAgICAgICAgICAgICRzZWN0aW9uLnJlbW92ZUNsYXNzKCdpbmFjdGl2ZScpO1xuXG4gICAgICAgICAgICAvLyBObyBsb2NrZWQgbGlua3M/IERlYWN0aXZhdGUgYWxsIGxpbmtzIGFuZCBhY3RpdmF0ZSB0aGlzIHNlY3Rpb24ncyBvbmUuXG4gICAgICAgICAgICBpZiAoJG5hdl9hLmZpbHRlcignLmFjdGl2ZS1sb2NrZWQnKS5sZW5ndGggPT0gMCkge1xuXG4gICAgICAgICAgICAgICRuYXZfYS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnIC8vIE90aGVyd2lzZSwgaWYgdGhpcyBzZWN0aW9uJ3MgbGluayBpcyB0aGUgb25lIHRoYXQncyBsb2NrZWQsIHVubG9jayBpdC5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHRoaXMuaGFzQ2xhc3MoJ2FjdGl2ZS1sb2NrZWQnKSkgJHRoaXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1sb2NrZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2Nyb2xseS5cbiAgICAkKCcuc2Nyb2xseScpLnNjcm9sbHkoeyBzcGVlZDogMTAwMCB9KTtcbiAgfSk7XG59KShqUXVlcnkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDM0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

});