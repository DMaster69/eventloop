{"version":3,"file":"3.bundle.js","sources":["webpack:///./src/js/util.js"],"sourcesContent":["'use strict';\n\n(function ($) {\n\n\t/**\r\n  * Generate an indented list of links from a nav. Meant for use with panel().\r\n  * @return {jQuery} jQuery object.\r\n  */\n\t$.fn.navList = function () {\n\n\t\tvar $this = $(this);\n\t\t$a = $this.find('a'), b = [];\n\n\t\t$a.each(function () {\n\n\t\t\tvar $this = $(this),\n\t\t\t    indent = Math.max(0, $this.parents('li').length - 1),\n\t\t\t    href = $this.attr('href'),\n\t\t\t    target = $this.attr('target');\n\n\t\t\tb.push('<a ' + 'class=\"link depth-' + indent + '\"' + (typeof target !== 'undefined' && target != '' ? ' target=\"' + target + '\"' : '') + (typeof href !== 'undefined' && href != '' ? ' href=\"' + href + '\"' : '') + '>' + '<span class=\"indent-' + indent + '\"></span>' + $this.text() + '</a>');\n\t\t});\n\n\t\treturn b.join('');\n\t};\n\n\t/**\r\n  * Panel-ify an element.\r\n  * @param {object} userConfig User config.\r\n  * @return {jQuery} jQuery object.\r\n  */\n\t$.fn.panel = function (userConfig) {\n\n\t\t// No elements?\n\t\tif (this.length == 0) return $this;\n\n\t\t// Multiple elements?\n\t\tif (this.length > 1) {\n\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\t$(this[i]).panel(userConfig);\n\t\t\t}return $this;\n\t\t}\n\n\t\t// Vars.\n\t\tvar $this = $(this),\n\t\t    $body = $('body'),\n\t\t    $window = $(window),\n\t\t    id = $this.attr('id'),\n\t\t    config;\n\n\t\t// Config.\n\t\tconfig = $.extend({\n\n\t\t\t// Delay.\n\t\t\tdelay: 0,\n\n\t\t\t// Hide panel on link click.\n\t\t\thideOnClick: false,\n\n\t\t\t// Hide panel on escape keypress.\n\t\t\thideOnEscape: false,\n\n\t\t\t// Hide panel on swipe.\n\t\t\thideOnSwipe: false,\n\n\t\t\t// Reset scroll position on hide.\n\t\t\tresetScroll: false,\n\n\t\t\t// Reset forms on hide.\n\t\t\tresetForms: false,\n\n\t\t\t// Side of viewport the panel will appear.\n\t\t\tside: null,\n\n\t\t\t// Target element for \"class\".\n\t\t\ttarget: $this,\n\n\t\t\t// Class to toggle.\n\t\t\tvisibleClass: 'visible'\n\n\t\t}, userConfig);\n\n\t\t// Expand \"target\" if it's not a jQuery object already.\n\t\tif (typeof config.target != 'jQuery') config.target = $(config.target);\n\n\t\t// Panel.\n\n\t\t// Methods.\n\t\t$this._hide = function (event) {\n\n\t\t\t// Already hidden? Bail.\n\t\t\tif (!config.target.hasClass(config.visibleClass)) return;\n\n\t\t\t// If an event was provided, cancel it.\n\t\t\tif (event) {\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t\t// Hide.\n\t\t\tconfig.target.removeClass(config.visibleClass);\n\n\t\t\t// Post-hide stuff.\n\t\t\twindow.setTimeout(function () {\n\n\t\t\t\t// Reset scroll position.\n\t\t\t\tif (config.resetScroll) $this.scrollTop(0);\n\n\t\t\t\t// Reset forms.\n\t\t\t\tif (config.resetForms) $this.find('form').each(function () {\n\t\t\t\t\tthis.reset();\n\t\t\t\t});\n\t\t\t}, config.delay);\n\t\t};\n\n\t\t// Vendor fixes.\n\t\t$this.css('-ms-overflow-style', '-ms-autohiding-scrollbar').css('-webkit-overflow-scrolling', 'touch');\n\n\t\t// Hide on click.\n\t\tif (config.hideOnClick) {\n\n\t\t\t$this.find('a').css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');\n\n\t\t\t$this.on('click', 'a', function (event) {\n\n\t\t\t\tvar $a = $(this),\n\t\t\t\t    href = $a.attr('href'),\n\t\t\t\t    target = $a.attr('target');\n\n\t\t\t\tif (!href || href == '#' || href == '' || href == '#' + id) return;\n\n\t\t\t\t// Cancel original event.\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t// Hide panel.\n\t\t\t\t$this._hide();\n\n\t\t\t\t// Redirect to href.\n\t\t\t\twindow.setTimeout(function () {\n\n\t\t\t\t\tif (target == '_blank') window.open(href);else window.location.href = href;\n\t\t\t\t}, config.delay + 10);\n\t\t\t});\n\t\t}\n\n\t\t// Event: Touch stuff.\n\t\t$this.on('touchstart', function (event) {\n\n\t\t\t$this.touchPosX = event.originalEvent.touches[0].pageX;\n\t\t\t$this.touchPosY = event.originalEvent.touches[0].pageY;\n\t\t});\n\n\t\t$this.on('touchmove', function (event) {\n\n\t\t\tif ($this.touchPosX === null || $this.touchPosY === null) return;\n\n\t\t\tvar diffX = $this.touchPosX - event.originalEvent.touches[0].pageX,\n\t\t\t    diffY = $this.touchPosY - event.originalEvent.touches[0].pageY,\n\t\t\t    th = $this.outerHeight(),\n\t\t\t    ts = $this.get(0).scrollHeight - $this.scrollTop();\n\n\t\t\t// Hide on swipe?\n\t\t\tif (config.hideOnSwipe) {\n\n\t\t\t\tvar result = false,\n\t\t\t\t    boundary = 20,\n\t\t\t\t    delta = 50;\n\n\t\t\t\tswitch (config.side) {\n\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tresult = diffY < boundary && diffY > -1 * boundary && diffX > delta;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tresult = diffY < boundary && diffY > -1 * boundary && diffX < -1 * delta;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tresult = diffX < boundary && diffX > -1 * boundary && diffY > delta;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tresult = diffX < boundary && diffX > -1 * boundary && diffY < -1 * delta;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif (result) {\n\n\t\t\t\t\t$this.touchPosX = null;\n\t\t\t\t\t$this.touchPosY = null;\n\t\t\t\t\t$this._hide();\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Prevent vertical scrolling past the top or bottom.\n\t\t\tif ($this.scrollTop() < 0 && diffY < 0 || ts > th - 2 && ts < th + 2 && diffY > 0) {\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t});\n\n\t\t// Event: Prevent certain events inside the panel from bubbling.\n\t\t$this.on('click touchend touchstart touchmove', function (event) {\n\t\t\tevent.stopPropagation();\n\t\t});\n\n\t\t// Event: Hide panel if a child anchor tag pointing to its ID is clicked.\n\t\t$this.on('click', 'a[href=\"#' + id + '\"]', function (event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tconfig.target.removeClass(config.visibleClass);\n\t\t});\n\n\t\t// Body.\n\n\t\t// Event: Hide panel on body click/tap.\n\t\t$body.on('click touchend', function (event) {\n\t\t\t$this._hide(event);\n\t\t});\n\n\t\t// Event: Toggle.\n\t\t$body.on('click', 'a[href=\"#' + id + '\"]', function (event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tconfig.target.toggleClass(config.visibleClass);\n\t\t});\n\n\t\t// Window.\n\n\t\t// Event: Hide on ESC.\n\t\tif (config.hideOnEscape) $window.on('keydown', function (event) {\n\n\t\t\tif (event.keyCode == 27) $this._hide(event);\n\t\t});\n\n\t\treturn $this;\n\t};\n\n\t/**\r\n  * Apply \"placeholder\" attribute polyfill to one or more forms.\r\n  * @return {jQuery} jQuery object.\r\n  */\n\t$.fn.placeholder = function () {\n\n\t\t// Browser natively supports placeholders? Bail.\n\t\tif (typeof document.createElement('input').placeholder != 'undefined') return $(this);\n\n\t\t// No elements?\n\t\tif (this.length == 0) return $this;\n\n\t\t// Multiple elements?\n\t\tif (this.length > 1) {\n\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\t$(this[i]).placeholder();\n\t\t\t}return $this;\n\t\t}\n\n\t\t// Vars.\n\t\tvar $this = $(this);\n\n\t\t// Text, TextArea.\n\t\t$this.find('input[type=text],textarea').each(function () {\n\n\t\t\tvar i = $(this);\n\n\t\t\tif (i.val() == '' || i.val() == i.attr('placeholder')) i.addClass('polyfill-placeholder').val(i.attr('placeholder'));\n\t\t}).on('blur', function () {\n\n\t\t\tvar i = $(this);\n\n\t\t\tif (i.attr('name').match(/-polyfill-field$/)) return;\n\n\t\t\tif (i.val() == '') i.addClass('polyfill-placeholder').val(i.attr('placeholder'));\n\t\t}).on('focus', function () {\n\n\t\t\tvar i = $(this);\n\n\t\t\tif (i.attr('name').match(/-polyfill-field$/)) return;\n\n\t\t\tif (i.val() == i.attr('placeholder')) i.removeClass('polyfill-placeholder').val('');\n\t\t});\n\n\t\t// Password.\n\t\t$this.find('input[type=password]').each(function () {\n\n\t\t\tvar i = $(this);\n\t\t\tvar x = $($('<div>').append(i.clone()).remove().html().replace(/type=\"password\"/i, 'type=\"text\"').replace(/type=password/i, 'type=text'));\n\n\t\t\tif (i.attr('id') != '') x.attr('id', i.attr('id') + '-polyfill-field');\n\n\t\t\tif (i.attr('name') != '') x.attr('name', i.attr('name') + '-polyfill-field');\n\n\t\t\tx.addClass('polyfill-placeholder').val(x.attr('placeholder')).insertAfter(i);\n\n\t\t\tif (i.val() == '') i.hide();else x.hide();\n\n\t\t\ti.on('blur', function (event) {\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar x = i.parent().find('input[name=' + i.attr('name') + '-polyfill-field]');\n\n\t\t\t\tif (i.val() == '') {\n\n\t\t\t\t\ti.hide();\n\t\t\t\t\tx.show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tx.on('focus', function (event) {\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar i = x.parent().find('input[name=' + x.attr('name').replace('-polyfill-field', '') + ']');\n\n\t\t\t\tx.hide();\n\n\t\t\t\ti.show().focus();\n\t\t\t}).on('keypress', function (event) {\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tx.val('');\n\t\t\t});\n\t\t});\n\n\t\t// Events.\n\t\t$this.on('submit', function () {\n\n\t\t\t$this.find('input[type=text],input[type=password],textarea').each(function (event) {\n\n\t\t\t\tvar i = $(this);\n\n\t\t\t\tif (i.attr('name').match(/-polyfill-field$/)) i.attr('name', '');\n\n\t\t\t\tif (i.val() == i.attr('placeholder')) {\n\n\t\t\t\t\ti.removeClass('polyfill-placeholder');\n\t\t\t\t\ti.val('');\n\t\t\t\t}\n\t\t\t});\n\t\t}).on('reset', function (event) {\n\n\t\t\tevent.preventDefault();\n\n\t\t\t$this.find('select').val($('option:first').val());\n\n\t\t\t$this.find('input,textarea').each(function () {\n\n\t\t\t\tvar i = $(this),\n\t\t\t\t    x;\n\n\t\t\t\ti.removeClass('polyfill-placeholder');\n\n\t\t\t\tswitch (this.type) {\n\n\t\t\t\t\tcase 'submit':\n\t\t\t\t\tcase 'reset':\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'password':\n\t\t\t\t\t\ti.val(i.attr('defaultValue'));\n\n\t\t\t\t\t\tx = i.parent().find('input[name=' + i.attr('name') + '-polyfill-field]');\n\n\t\t\t\t\t\tif (i.val() == '') {\n\t\t\t\t\t\t\ti.hide();\n\t\t\t\t\t\t\tx.show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ti.show();\n\t\t\t\t\t\t\tx.hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\t\ti.attr('checked', i.attr('defaultValue'));\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\ti.val(i.attr('defaultValue'));\n\n\t\t\t\t\t\tif (i.val() == '') {\n\t\t\t\t\t\t\ti.addClass('polyfill-placeholder');\n\t\t\t\t\t\t\ti.val(i.attr('placeholder'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ti.val(i.attr('defaultValue'));\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn $this;\n\t};\n\n\t/**\r\n  * Moves elements to/from the first positions of their respective parents.\r\n  * @param {jQuery} $elements Elements (or selector) to move.\r\n  * @param {bool} condition If true, moves elements to the top. Otherwise, moves elements back to their original locations.\r\n  */\n\t$.prioritize = function ($elements, condition) {\n\n\t\tvar key = '__prioritize';\n\n\t\t// Expand $elements if it's not already a jQuery object.\n\t\tif (typeof $elements != 'jQuery') $elements = $($elements);\n\n\t\t// Step through elements.\n\t\t$elements.each(function () {\n\n\t\t\tvar $e = $(this),\n\t\t\t    $p,\n\t\t\t    $parent = $e.parent();\n\n\t\t\t// No parent? Bail.\n\t\t\tif ($parent.length == 0) return;\n\n\t\t\t// Not moved? Move it.\n\t\t\tif (!$e.data(key)) {\n\n\t\t\t\t// Condition is false? Bail.\n\t\t\t\tif (!condition) return;\n\n\t\t\t\t// Get placeholder (which will serve as our point of reference for when this element needs to move back).\n\t\t\t\t$p = $e.prev();\n\n\t\t\t\t// Couldn't find anything? Means this element's already at the top, so bail.\n\t\t\t\tif ($p.length == 0) return;\n\n\t\t\t\t// Move element to top of parent.\n\t\t\t\t$e.prependTo($parent);\n\n\t\t\t\t// Mark element as moved.\n\t\t\t\t$e.data(key, $p);\n\t\t\t}\n\n\t\t\t// Moved already?\n\t\t\telse {\n\n\t\t\t\t\t// Condition is true? Bail.\n\t\t\t\t\tif (condition) return;\n\n\t\t\t\t\t$p = $e.data(key);\n\n\t\t\t\t\t// Move element back to its original location (using our placeholder).\n\t\t\t\t\t$e.insertAfter($p);\n\n\t\t\t\t\t// Unmark element as moved.\n\t\t\t\t\t$e.removeData(key);\n\t\t\t\t}\n\t\t});\n\t};\n})(jQuery);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/util.js\n// module id = 475\n// module chunks = 3"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;","sourceRoot":""}